(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/user/add_goods_user"],{"0997":function(e,n,t){"use strict";t.r(n);var i=t("1294"),a=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},"0d3d":function(e,n,t){"use strict";t.r(n);var i=t("60e6"),a=t("0997");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("f085");var u=t("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=r.exports},1294:function(e,n,t){"use strict";(function(e){var i=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(t("2eee")),o=i(t("c973")),u=i(t("24db")),r={name:"add-MedicationUsers",data:function(){return{index:0,array:["本人","家属","亲戚","朋友","其他"],frontImage:null,backImage:null,popup:!0,popupidverify:!0,msg:"",birthday:"",authObj:{goodsUserName:"",idCard:"",phone:"",relationship:"本人",sex:0,openid:e.getStorageSync("openid"),medicalHistory:""},users:[{isSelected:!1}],isEnableClick:!0,choiceObj:null,sexs:[{text:"男",value:0},{text:"女",value:1}]}},mounted:function(){},methods:{addGoodsUser:function(){var n=this;return(0,o.default)(a.default.mark((function t(){var i,o,r,s,d;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=n,0!=n.isEnableClick){t.next=3;break}return t.abrupt("return");case 3:if(""!=n.authObj.goodsUserName&&""!=n.authObj.idCard){t.next=6;break}return e.showToast({title:"请输入信息",icon:"error"}),t.abrupt("return");case 6:if(o=/^[\u4e00-\u9fa5]{2,}$/,r=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,/^1\d{10}$/,o.test(n.authObj.goodsUserName)){t.next=12;break}return e.showToast({title:"姓名不合规",icon:"error"}),t.abrupt("return");case 12:if(r.test(n.authObj.idCard)){t.next=15;break}return e.showToast({title:"请输入正确身份证号",icon:"none"}),t.abrupt("return");case 15:return e.showLoading({title:"认证中..."}),n.authObj.phone=e.getStorageSync("phone"),n.isEnableClick=!1,"/api/user/addGoodsUser","POST",s={goodsUserInfo:n.authObj},t.prev=21,t.next=24,(0,u.default)("yzy_app","/api/user/addGoodsUser","POST",s);case 24:d=t.sent,console.log(d),99==d.code&&99==d.data.flag?(e.hideLoading(),e.showToast({title:"认证结果:"+d.data.sm}),i.addOver("1")):99==d.code&&-99==d.data.flag?(e.showToast({title:"认证失败:"+d.data.sm,icon:"none",duration:2500}),setTimeout((function(){e.hideLoading()}),1e3)):(e.showToast({title:"认证失败:"+d.msg,icon:"none",duration:2500}),setTimeout((function(){e.hideLoading()}),1e3)),n.isEnableClick=!0,t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](21),console.log(t.t0),e.hideLoading(),n.isEnableClick=!0;case 35:case"end":return t.stop()}}),t,null,[[21,30]])})))()},addOver:function(e){var n=this;setTimeout((function(){n.$emit("fatherMethod",e)}),2e3)},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.detail.value),this.index=e.detail.value,this.authObj.relationship=this.array[this.index]},getBirthday:function(e){var n=e.slice(6,14);this.birthday=n}}};n.default=r}).call(this,t("543d")["default"])},"1e5e":function(e,n,t){},"60e6":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={uniForms:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(t.bind(null,"ad9b"))},uniFormsItem:function(){return t.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(t.bind(null,"35bd"))},uniEasyinput:function(){return t.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(t.bind(null,"9d07"))},uniDataCheckbox:function(){return t.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox").then(t.bind(null,"989c"))}},a=function(){var e=this.$createElement;this._self._c},o=[]},f085:function(e,n,t){"use strict";var i=t("1e5e"),a=t.n(i);a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/user/add_goods_user-create-component',
    {
        'components/user/add_goods_user-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("0d3d"))
        })
    },
    [['components/user/add_goods_user-create-component']]
]);

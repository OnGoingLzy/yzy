(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods_order_address_select/goods_order_address_select"],{"08fb":function(t,e,o){"use strict";(function(t,e){var n=o("4ea4");o("7711");n(o("66fd"));var a=n(o("f3b2"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(a.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},a5c4:function(t,e,o){"use strict";o.r(e);var n=o("aa00"),a=o.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},aa00:function(t,e,o){"use strict";(function(t){var n=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(o("9523")),s={components:{pickerAddress:function(){Promise.all([o.e("common/vendor"),o.e("components/goods_order/pick_address/pick_address")]).then(function(){return resolve(o("468f"))}.bind(null,o)).catch(o.oe)},shopList:function(){o.e("components/goods_order/shop_list/shop_list").then(function(){return resolve(o("7253"))}.bind(null,o)).catch(o.oe)}},data:function(){var e;return e={txt:"点击选择所属区域",title:"Hello",skuKey:!1,skuMode:3,goodsInfo:{},datajson:{}},(0,a.default)(e,"title","uni-fab"),(0,a.default)(e,"directionStr","垂直"),(0,a.default)(e,"horizontal","right"),(0,a.default)(e,"vertical","bottom"),(0,a.default)(e,"popMenu",!1),(0,a.default)(e,"pattern",{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"}),(0,a.default)(e,"mdxx",t.getStorageSync("mdxx")),(0,a.default)(e,"message",""),(0,a.default)(e,"cfybz",""),(0,a.default)(e,"tsbz",""),(0,a.default)(e,"newCart",JSON.parse(t.getStorageSync("cart"))),(0,a.default)(e,"defaultPic","https://img3.doubanio.com/f/movie/8dd0c794499fe925ae2ae89ee30cd225750457b4/pics/movie/celebrity-default-medium.png"),(0,a.default)(e,"mdxhbz",""),(0,a.default)(e,"isRx",""),e},onLoad:function(t){console.log("aaa"),this.isRx=t.isRx},methods:{change:function(e){var o=this;this.txt=e.data.join(""),t.request({url:"https://appletservice.dyb.yn.cn/api/SearchMd",method:"POST",header:{"Content-Type":"application/json","X-Ca-Key":"wxe7c826a1a5e00055","X-Service-Method":"SearchMd"},data:{md_json:t.getStorageSync("mdxx"),mdlx:e.data[0],shi:e.data[1],qu:e.data[2]},success:function(e){console.log(e.data.data),null!==e.data.data?o.mdxx=e.data.data:(o.mdxx=null,t.showToast({title:"没有相应的门店，请重新选择门店信息",icon:"none"}))},fail:function(t){}})},getMdId:function(e){this.tsbz=this.newCart.tsbz,e.kcsm.includes("预订")?t.setStorageSync("message","小云提示您：\n\n\t\t您的订购需求正在处理中，我们将于两个工作日内电话联系您。\n\n\t\t感              谢您的使用!祝您健康!"):t.setStorageSync("message",this.newCart.tsbz),console.log(t.getStorageSync("message")),this.openSkuPopup(e)},openSkuPopup:function(t){this.goodsInfo={_id:""+t.mddm,isRx:""+this.isRx,name:""+this.newCart.pm+t.xssm,goods_thumb:"http://images.yndzyf.com/getimage.ashx?mlszh="+this.newCart.spml_tpxx_lb[0].tplszh,sku_list:[{_id:""+t.mddm,goods_id:""+this.newCart.spdm,goods_name:""+this.newCart.pm,image:"http://images.yndzyf.com/getimage.ashx?mlszh="+this.newCart.spml_tpxx_lb[0].tplszh,price:t.xsdjs,sku_name_arr:[""+this.newCart.spgg+this.newCart.sccs,""+t.mdmc],stock:""+t.xzkc,hideStock:"false"}],spec_list:[{list:[{name:""+this.newCart.spgg+this.newCart.sccs}],name:"选择规格"},{list:[{name:""+t.mdmc}],name:"选择门店"}]},console.log(this.goodsInfo),this.skuKey=!0},onOpenSkuPopup:function(){console.log("监听 - 打开sku组件")},onCloseSkuPopup:function(){console.log("监听 - 关闭sku组件")},buyNow:function(e){this.skuKey=!1,t.request({url:"https://appletservice.dyb.yn.cn/api/InsertXqqd",method:"POST",header:{"Content-Type":"application/json","X-Ca-Key":"wxe7c826a1a5e00055","X-Service-Method":"InsertXqqd"},data:{openid:t.getStorageSync("openid"),lxdh:t.getStorageSync("lxdh"),mddm:e._id,spxx_json:JSON.parse(t.getStorageSync("cart")),tjr:t.getStorageSync("tg_czy"),count:e.buy_num,note:e.note},success:function(e){console.log(e.data),-99==e.data.result?t.showModal({title:"提交需求失败！",content:e.data.sm,showCancel:!1,success:function(t){}}):(t.setStorageSync("mdId",""),t.showModal({title:"提交需求成功！",content:t.getStorageSync("message").replace(/<br>/g,"\n\n"),showCancel:!1,success:function(e){e.confirm?(t.removeStorageSync("cart"),console.log("成功"),t.reLaunch({url:"/pages/goods_list/goods_list"})):e.cancel&&console.log("用户点击取消")}}))},fail:function(t){console.log("出错了"),console.log(t)}})},toast:function(e){t.showToast({title:e,icon:"none"})},getMdIdzd:function(){t.showModal({title:"门店选择",content:'确认选择"云南省医药有限公司"?',success:function(e){if(e.confirm){t.setStorageSync("mdId","总店");var o=getCurrentPages(),n=o[o.length-2];t.navigateBack({url:"/pages/cart/cart",success:function(t){n.$vm.$children[2].settlement()}})}else e.cancel}})}}};e.default=s}).call(this,o("543d")["default"])},bcde:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return n}));var n={vkDataGoodsSkuPopup:function(){return Promise.all([o.e("common/vendor"),o.e("components/vk-data-goods-sku-popup/vk-data-goods-sku-popup")]).then(o.bind(null,"782d"))}},a=function(){var t=this.$createElement;this._self._c},s=[]},cc92:function(t,e,o){"use strict";var n=o("daf5"),a=o.n(n);a.a},daf5:function(t,e,o){},f3b2:function(t,e,o){"use strict";o.r(e);var n=o("bcde"),a=o("a5c4");for(var s in a)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(s);o("cc92");var c=o("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=d.exports}},[["08fb","common/runtime","common/vendor"]]]);
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{"159a":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("2eee")),a=o(n("c973")),u=o(n("24db")),i={data:function(){return{isVerify:!1,nickname:e.getStorageSync("nickname"),promotionCodeUrl:"data:image/jpeg;base64,",orderNum:{noPay:0,isPay:0,waitRecive:0,refund:0}}},mounted:function(){},onShow:function(){this.getOrderNumByStatus("待付款"),this.getOrderNumByStatus("待发货"),this.getOrderNumByStatus("待收货"),this.getOrderNumByStatus("退款")},onLoad:function(){if(!e.getStorageSync("phone"))return this.toAuthorizePhone()},methods:{toUserAppointmentQuery:function(){e.navigateTo({url:"/subPackage_appointment/user_queryAppointment/user_queryAppointment"})},toMyHistoryDemand:function(){if(!e.getStorageSync("lxdh"))return console.log("无手机号"),this.delayNavigate();e.navigateTo({url:"/pages/goods_order_history/goods_order_history"})},delayNavigate:function(){var t=this;this.seconds=3,this.showTips(this.seconds),this.timer=setInterval((function(){if(t.seconds--,t.seconds<=0)return clearInterval(t.timer),void e.navigateTo({url:"/pages/login/login"});t.showTips(t.seconds)}),1e3)},showTips:function(t){e.showToast({icon:"none",title:"请授权后再之重新打开个人中心！"+t+"秒之后自动跳转到授权页",mask:!0,duration:1500})},toMyRecipe:function(){e.navigateTo({url:"/pages/user_recipe/user_recipe"})},showMsg:function(){e.showToast({title:"功能正在开发中...",icon:"none"})},toAddress:function(){e.getStorageSync("phone")?e.navigateTo({url:"/pages/user-path-list/pathList"}):this.toAuthorizePhone()},getOrderNumByStatus:function(t){var n=this;return(0,a.default)(r.default.mark((function o(){var a,i;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return"/api/trade/getOrderNumByStatus","POST",a={openid:e.getStorageSync("openid"),status:t},o.prev=3,o.next=6,(0,u.default)("yzy_app","/api/trade/getOrderNumByStatus","POST",a);case 6:if(i=o.sent,99!=i.code||99!=i.data.flag){o.next=11;break}"待付款"==t?n.orderNum.noPay=i.data.num.toString():"待发货"==t?n.orderNum.isPay=i.data.num.toString():"待收货"==t?n.orderNum.waitRecive=i.data.num.toString():n.orderNum.refund=i.data.num.toString(),o.next=12;break;case 11:return o.abrupt("return",0);case 12:o.next=17;break;case 14:o.prev=14,o.t0=o["catch"](3),console.log(o.t0);case 17:case"end":return o.stop()}}),o,null,[[3,14]])})))()},toMyOrder:function(t){e.navigateTo({url:"/pages/user_order/user_order?num="+t})},toDrugUsers:function(){e.getStorageSync("phone")?(e.navigateTo({url:"/pages/goods_user/goods_user"}),console.log("添加用药人")):(console.log("没有绑定手机"),this.toAuthorizePhone())},toAuthorizePhone:function(){e.navigateTo({url:"/pages/login/login"})},shareCode:function(){var t=this;return(0,a.default)(r.default.mark((function n(){var o,a,i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.getStorageSync("phone")){n.next=2;break}return n.abrupt("return",t.toAuthorizePhone());case 2:if(o=t,"data:image/jpeg;base64,"!=t.promotionCodeUrl){n.next=21;break}return"/api/user/getShareCode","POST",a={phone:e.getStorageSync("phone")},n.prev=7,n.next=10,(0,u.default)("yzy_app","/api/user/getShareCode","POST",a);case 10:i=n.sent,console.log(i),-99!=i.code?(o.promotionCodeUrl="data:image/jpeg;base64,"+i.data,o.$refs.popup2.open("center")):e.showToast({title:"获取失败"}),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](7),console.error(n.t0),e.showToast({title:"服务器出错了"});case 19:n.next=22;break;case 21:t.$refs.popup2.open("center");case 22:case"end":return n.stop()}}),n,null,[[7,15]])})))()},connect:function(){return(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}};t.default=i}).call(this,n("543d")["default"])},"42c0":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"f79a"))},uniGrid:function(){return n.e("uni_modules/uni-grid/components/uni-grid/uni-grid").then(n.bind(null,"da6c"))},uniGridItem:function(){return n.e("uni_modules/uni-grid/components/uni-grid-item/uni-grid-item").then(n.bind(null,"f6c3"))},uniBadge:function(){return n.e("uni_modules/uni-badge/components/uni-badge/uni-badge").then(n.bind(null,"c28d"))},uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"0336"))}},r=function(){var e=this.$createElement;this._self._c},a=[]},6577:function(e,t,n){"use strict";n.r(t);var o=n("42c0"),r=n("8098");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("bbe6");var u=n("f0c5"),i=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=i.exports},"77aa":function(e,t,n){},8098:function(e,t,n){"use strict";n.r(t);var o=n("159a"),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},bbe6:function(e,t,n){"use strict";var o=n("77aa"),r=n.n(o);r.a},eaa2:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("7711");o(n("66fd"));var r=o(n("6577"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["eaa2","common/runtime","common/vendor"]]]);
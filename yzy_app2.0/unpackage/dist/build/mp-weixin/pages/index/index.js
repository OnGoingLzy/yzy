(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"04b2":function(e,t,n){},"5a18":function(e,t,n){"use strict";n.r(t);var a=n("9b79"),o=n("afe7");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("bf6a");var s=n("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=c.exports},"9b79":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={uniGrid:function(){return n.e("uni_modules/uni-grid/components/uni-grid/uni-grid").then(n.bind(null,"da6c"))},uniGridItem:function(){return n.e("uni_modules/uni-grid/components/uni-grid-item/uni-grid-item").then(n.bind(null,"f6c3"))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(Math.ceil(e.category.length/15),(function(t,n){var a=e.__get_orig(t),o=e.getPageCategories(n);return{$orig:a,l0:o}})));e._isMounted||(e.e0=function(t,n,a,o){var r=arguments[arguments.length-1].currentTarget.dataset,s=r.eventParams||r["event-params"];n=s.index,a=s.item,o=s.pageIndex;return e.toCategory(n,a.id,o,a.categoryName)}),e.$mp.data=Object.assign({},{$root:{l1:n}})},r=[]},afe7:function(e,t,n){"use strict";n.r(t);var a=n("c7a8"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},bf6a:function(e,t,n){"use strict";var a=n("04b2"),o=n.n(a);o.a},c7a8:function(e,t,n){"use strict";(function(e){var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("2eee")),r=a(n("278c")),s=a(n("c973")),c=a(n("24db")),i={data:function(){return{defaultIcon:"../../static/icon/yp.png",searchObj:{searchContent:"",pageIndex:1,pageSize:20,drugsList:[],sortRule:"默认",filterRule:"无"},searchResults:[],category:[],swiperUrl:["http://images.yndzyf.com/getimage.ashx?mlszh=21562118&sy=","http://images.yndzyf.com/getimage.ashx?mlszh=20999312&sy=","http://images.yndzyf.com/getimage.ashx?mlszh=21182372&sy="],icon:["../../static/icon/categoryIcon/药品.svg","../../static/icon/categoryIcon/药品1.svg","../../static/icon/categoryIcon/药品2.svg","../../static/icon/categoryIcon/药品3.svg","../../static/icon/categoryIcon/药品4.svg","../../static/icon/categoryIcon/药品5.svg","../../static/icon/categoryIcon/药品6.svg","../../static/icon/categoryIcon/药品7.svg"],testImg:["http://images.yndzyf.com/getimage.ashx?mlszh=21089350","http://images.yndzyf.com/getimage.ashx?mlszh=21089354","http://images.yndzyf.com/getimage.ashx?mlszh=21089391","http://images.yndzyf.com/getimage.ashx?mlszh=21089393","http://images.yndzyf.com/getimage.ashx?mlszh=21088516","http://images.yndzyf.com/getimage.ashx?mlszh=21089507","http://images.yndzyf.com/getimage.ashx?mlszh=21089630"]}},components:{goodsCard2:function(){n.e("components/goods/goods_card2").then(function(){return resolve(n("9035"))}.bind(null,n)).catch(n.oe)}},mounted:function(){this.searchGoods(),this.getGoodsCategory()},onLoad:function(e){},methods:{toVideo1:function(){e.navigateTo({url:"/pages/video_page/video_page?src="+encodeURIComponent(JSON.stringify("https://appletservice.dyb.yn.cn/jkkp.mp4"))})},toVideo2:function(){e.navigateTo({url:"/pages/video_page/video_page?src="+encodeURIComponent(JSON.stringify("https://appletservice.dyb.yn.cn/syzn.mp4"))})},toDoctorQuery:function(){e.redirectTo({url:"/subPackage_appointment/doctor_queryAppointment/doctor_queryAppointment"})},toAuthorizePhone:function(){e.navigateTo({url:"/pages/login/login"})},toAppointment:function(){e.getStorageSync("phone")?e.navigateTo({url:"/subPackage_appointment/appointment/appointment"}):this.toAuthorizePhone()},toSubPack:function(){e.redirectTo({url:"/subPackage_appointment/index/index"})},toOtherMiniProgram:function(t){if(console.log(t),1==t&&e.navigateToMiniProgram({appId:"wxffe680a300a29912",path:"/pages/index/index",extraData:{from:"云找药"},success:function(e){console.log("跳转其他小程序成功")},fail:function(e){console.log(e)}}),2==t){e.navigateTo({url:"/pages/video_page/video_page?src="+encodeURIComponent(JSON.stringify("https://eca1adb7636e0fe5dc2895c2318b65e2.v.smtcdns.com/om.tc.qq.com/Af3CDF-hSwPF66LzjQoACa9tUDafKVbukLNaxG7ONCzk/B_JxNyiJmktHRgresXhfyMelgW8UCu677gtCk0UpllLP1NXwzgrLud5EhnUFs-ktvh/svp_50001/szg_1891_50001_0bf2fqabwaaabuapdgfuq5pvclgddmwaag2a.f632.mp4?sdtfrom=v1104&guid=1361c0d17440cc9d&vkey=CB8D01EB1D223FF0AF6C3AE537727079834E98052E1A339F3BB39B5AB4ACE8154377DA709626FB7F9334A7D1BBBCD699D4D0168B96CFD3C3F069E2DDCCF09D20D23890892B2429EBE6BCCDDD744329DA484C696480267431EEF574BB768EEFC104C3E32AE0C7B2EB670046C14CD0C7E42D0CCB475009CAA90AD90098E868C9157AEADE61117EDE7EC1D44FEA7125B18E7258FF2891623F996944EAD78002EA947D51BC901CB8E86E"))})}},gotoAuthenticate:function(){e.navigateTo({url:"/pages/authenticate/authenticate"})},toCertificate:function(){e.navigateTo({url:"/pages/shop_certificate/shop_certificate?shopName="+encodeURIComponent(JSON.stringify("云南省医药有限公司"))+"&shopId="+encodeURIComponent(JSON.stringify("80-AG"))})},getPageCategories:function(e){var t=15*e,n=Math.min(t+15,this.category.length);return this.category.slice(t,n)},swiperClick:function(){console.log("click swiper")},queryPay:function(){return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/trade/queryPayOrder","POST",n={value:""},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/trade/queryPayOrder","POST",n);case 6:a=t.sent,console.log(a),a.code,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},testPublishMsg:function(){return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/PublishMsg/PublishRecipeAuditMsg","POST",n={value:""},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/PublishMsg/PublishRecipeAuditMsg","POST",n);case 6:a=t.sent,console.log(a),a.code,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},testPublishMsg2:function(){return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/PublishMsg/PublishNoPayMsg","POST",n={value:""},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/PublishMsg/PublishNoPayMsg","POST",n);case 6:a=t.sent,console.log(a),a.code,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},testPay:function(){var t=this;return(0,s.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return"/api/example/testWechatPay","POST",a={openid:e.getStorageSync("openid"),main_order_id:"20230815testOrder1",shopId:"1002",goodsList:[{goodsId:"10010",num:1,detail_order_id:""},{goodsId:"10012",num:1,detail_order_id:""}],businessUnitId:"1002"},n.prev=3,n.next=6,(0,c.default)("yzy_app","/api/example/testWechatPay","POST",a);case 6:r=n.sent,console.log(r),99==r.code?t.requestWxPay(r.data,a.main_order_id):e.showToast({icon:"none",title:"创建订单失败"}),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](3),console.log(n.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()},testQueryPay:function(t,n){return(0,s.default)(o.default.mark((function a(){var r,s;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return"/api/example/testQueryPayOrder","POST",r={openid:e.getStorageSync("openid"),main_order_id:n,out_order_id:t},a.prev=3,a.next=6,(0,c.default)("yzy_app","/api/example/testQueryPayOrder","POST",r);case 6:s=a.sent,console.log(s),99==s.code||e.showToast({icon:"none",title:"查询失败"}),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](3),console.log(a.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))()},testSubmitRefundApplication:function(){return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/example/submitRefundApplication","POST",n={businessUnitId:"1002",openid:e.getStorageSync("openid"),new_main_order_id:"new_main_order_id7",out_order_id:"202308177097745236538425344",wxpay_order_id:"4200001899202308176926895406"},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/example/submitRefundApplication","POST",n);case 6:a=t.sent,console.log(a),99==a.code||e.showToast({icon:"none",title:"申请退款失败"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},testRequestRefund:function(){return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/example/testRequestRefund","POST",n={businessUnitId:"1002",openid:e.getStorageSync("openid"),origin_out_order_id:"202308177097745236538425344",out_order_id:"202308257100739736688144384"},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/example/testRequestRefund","POST",n);case 6:a=t.sent,console.log(a),99==a.code||e.showToast({icon:"none",title:"申请退款失败"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},testRequestQueryRefund:function(){return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/example/testRequestQueryRefund","POST",n={businessUnitId:"1002",out_order_id:"202308147096774748114006016"},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/example/testRequestQueryRefund","POST",n);case 6:a=t.sent,console.log(a),99==a.code||e.showToast({icon:"none",title:"查询失败"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},testExistsPrePayOrderWxPay:function(){var t=this;return(0,s.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return"/api/example/testExistsPrePayOrderWxPay","POST",a={businessUnitId:"1002",openid:e.getStorageSync("openid"),main_order_id:"20230814testOrder1"},n.prev=3,n.next=6,(0,c.default)("yzy_app","/api/example/testExistsPrePayOrderWxPay","POST",a);case 6:r=n.sent,console.log(r),99==r.code?t.requestWxPay(r.data,a.main_order_id):e.showToast({icon:"none",title:"创建订单失败"}),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](3),console.log(n.t0),e.showToast({icon:"none",title:"服务器出错了"});case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()},requestWxPay:function(t,n){var a=this;e.requestPayment({provider:"wxpay",timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(o){console.log("支付成功"),e.showToast({icon:"success",title:"支付成功"}),a.testQueryPay(t.out_order_id,n)},fail:function(t){console.log("支付失败"),e.showToast({icon:"none",title:"支付失败"})}})},setIcon:function(e){e=(e+Math.floor(8*Math.random())+0)%8;var t=["../../static/icon/categoryIcon/药品.svg","../../static/icon/categoryIcon/药品1.svg","../../static/icon/categoryIcon/药品2.svg","../../static/icon/categoryIcon/药品3.svg","../../static/icon/categoryIcon/药品4.svg","../../static/icon/categoryIcon/药品5.svg","../../static/icon/categoryIcon/药品6.svg","../../static/icon/categoryIcon/药品7.svg"][e];return t},toCategory:function(t,n,a,o){t+=10*a,console.log(n),e.navigateTo({url:"/pages/category/category_page?id="+encodeURIComponent(JSON.stringify(n))+"&scrollTop="+encodeURIComponent(JSON.stringify(t))+"&categoryName="+encodeURIComponent(JSON.stringify(o))})},getGoodsCategory:function(){var e=this;return(0,s.default)(o.default.mark((function t(){var n,a;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/api/goods/getGoodsCategory","POST",n={parentId:"0"},t.prev=3,t.next=6,(0,c.default)("yzy_app","/api/goods/getGoodsCategory","POST",n);case 6:a=t.sent,99==a.code&&(e.category=a.data.data,e.category.sort((function(e,t){return t.weight-e.weight}))),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},toNewSearch:function(){e.navigateTo({url:"/pages/search/search"})},getResult:function(){return(0,s.default)(o.default.mark((function e(){var t,n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"/api/控制器名/方法名","POST",t={Value1:"Key1"},e.prev=3,e.next=6,(0,c.default)("yzy_app","/api/控制器名/方法名","POST",t);case 6:n=e.sent,console.log(n),99==n.code?console.log("99"+n.result):console.log("-99"+n.result),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},searchGoods:function(){var e=this;return(0,s.default)(o.default.mark((function t(){var n,a,r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,"/api/goods/searchGoods","POST",a={searchObj:n.searchObj},t.prev=4,t.next=7,(0,c.default)("yzy_app","/api/goods/searchGoods","POST",a);case 7:r=t.sent,99==r.code&&null!==r.data&&(e.searchResults=r.data.data),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},toGoodsSellShop:function(t){e.navigateTo({url:"/pages/shops_selling_This_goods/shops_selling_This_goods?goods="+encodeURIComponent(JSON.stringify(t))})},getOpenid:function(t){var n=this;return(0,s.default)(o.default.mark((function a(){var s,i,u,l,d;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.login().catch((function(e){return e}));case 2:return s=a.sent,i=(0,r.default)(s,2),i[0],u=i[1],n.code=u.code,"/api/Example/getOpenid","POST",l={js_code:n.code,secret:""},a.prev=10,a.next=13,(0,c.default)("yzy_app","/api/Example/getOpenid","POST",l);case 13:d=a.sent,99==d.code?(e.setStorageSync("openid",d.data.openid),n.checkUserExist(d.data.openid,t),console.log("99"+d.data)):console.log("-99"+d.data),a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](10),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[10,17]])})))()},checkUserExist:function(e,t){return(0,s.default)(o.default.mark((function n(){var a,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return"/api/user/checkUserExist","POST",a={openid:e,sharerPhone:t},n.prev=3,n.next=6,(0,c.default)("yzy_app","/api/user/checkUserExist","POST",a);case 6:r=n.sent,r.code,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()}}};t.default=i}).call(this,n("543d")["default"])},c82d:function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("7711");a(n("66fd"));var o=a(n("5a18"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["c82d","common/runtime","common/vendor"]]]);
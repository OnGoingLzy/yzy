{"version":3,"sources":["webpack:///E:/workbench/yzy/yzy_app2.0/pages/user-add-path/addPath.vue?c89a","webpack:///E:/workbench/yzy/yzy_app2.0/pages/user-add-path/addPath.vue?dfe9","webpack:///E:/workbench/yzy/yzy_app2.0/pages/user-add-path/addPath.vue?a286","webpack:///E:/workbench/yzy/yzy_app2.0/pages/user-add-path/addPath.vue?fbab","uni-app:///pages/user-add-path/addPath.vue","webpack:///E:/workbench/yzy/yzy_app2.0/pages/user-add-path/addPath.vue?ae82","uni-app:///main.js"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","props","list","type","required","data","longitude","latitude","currentLocation","pickerValueDefault","pathObj","name","tel","city","details","isDefault","openid","userId","id","i","isStatus","rules","message","trigger","validator","callback","detail","onLoad","uni","title","address","mpvuePicker","onNavigationBarButtonTap","mounted","methods","getUserLocation","console","success","that","fail","content","authVerification","handerChooseLocation","handleOpenSetting","wx","addOrUpdateAddress","addAddress","url","method","response","icon","updateAddress","showPicker","onConfirm","radioChange","validateForm","result","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"4HAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAmqB,eAAG,G,uJCgEtqB,wWACA,CACAC,OACAC,MACAC,WACAC,cAGAC,gBACA,OACAC,cACAC,YACAC,qBACAC,2BACAC,SACAC,QACAC,OACAC,QACAC,WACAC,YACAC,kCACAC,SACAC,KACAZ,YACAC,YAGAY,KAEAC,YACAC,OACAV,OACAP,YACAkB,gBACAC,4BAEAX,MACAR,YACAkB,iBACAC,0BACApB,eACA,CACAqB,0BACA,6BACAC,wBAEAA,KAGAF,iBAEAG,SACAtB,YACAkB,kBACAC,+BAKAI,mBACA,WACAC,yBACAC,eAEA,yBACA,oBACA,sBACAlB,uBACAmB,2CACAxB,iCACAC,gCAEA,wDACA,mBAGAjB,YACA,uBACAyC,eAGAC,sCAGAC,qBAGAC,SACAC,2BACAC,oBACA,WAEAR,eACAzB,aACAkC,oBACAD,eACAE,wBACAA,sBACAA,gDAEAC,iBACAX,aACAC,WACAW,uBACAH,oBACA,aACAC,0BACA,YACA,cAQAG,4BAAA,WACAb,cACAS,oBACA,oCACA,yBACA,yCACAD,oBACA,wBAEAA,2BACA,2BAKAM,mCACA,WACAN,wCACAR,kBACArB,oBACAD,sBACA+B,oBAEAD,wCACAE,oBACAF,gCAEAG,iBACAH,0BAIAO,6BAAA,WACAC,eACAP,oBACAD,gCACA,qCACA,6BAMAS,8BAEA,sBACA,cACA,qBAGA,oBAOAC,sBAAA,mJACA,kCAGA,OAFAlB,aACAC,kBACA,0BAGA,yCACA,+DACA,gDACA,qDAMA,OAJAkB,yBACAC,SACA3C,GACAK,mBACA,qBAEA,sCAAAuC,SACAb,eACA,YAEAR,aACAC,aACAqB,cAEAtB,kBAGAA,aACAC,aACAqB,cAEA,sDAEAd,kBAAA,0DAnCA,IAuCAe,yBAAA,mJACA,kCAGA,OAFAvB,aACAC,kBACA,0BAGA,yCACA,+DACA,gDACA,qDAMA,OAJAkB,4BACAC,SACA3C,GACAK,mBACA,qBAEA,sCAAAuC,SACAb,eACA,iBACAR,aACAC,aACAqB,cAEAtB,kBAGAA,aACAC,aACAqB,cAEA,sDAEAd,kBAAA,0DAlCA,IAsCAgB,sBACA,+BAEAC,sBACA,2BAGAC,uBACA,uDAEAC,wBACA,sBAKA,OAJA3B,aACAC,iBACAqB,eAEA,EAGA,qBAKA,OAJAtB,aACAC,gBACAqB,eAEA,EAGA,mCACA,kCAQA,uBACAtB,aACAC,gBACAqB,eAEA,IAZAtB,aACAC,iBACAqB,eAEA,IAaAM,mBACA,yBACA,yBACA,mDACA,iCAKA,c,6ECjXA,yHAA8wC,eAAG,G,iFCAjxC,MAGA,aACA,YAFAZ,EAAGa,kCAAoCC,EAGvCC,EAAWC,a","file":"pages/user-add-path/addPath.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./addPath.vue?vue&type=template&id=07147041&scoped=true&\"\nvar renderjs\nimport script from \"./addPath.vue?vue&type=script&lang=js&\"\nexport * from \"./addPath.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addPath.vue?vue&type=style&index=0&id=07147041&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07147041\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user-add-path/addPath.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addPath.vue?vue&type=template&id=07147041&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addPath.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addPath.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"wrap\">\n\t\t<view class=\"top\">\r\n\t\t\t<view class=\"address-container\">\r\n\t\t\t\t<view class=\"choose-address-box\" v-if=\"currentLocation\">\r\n\t\t\t\t\t<view style=\"width: 80%;\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text style=\"font-weight: bold;\">{{currentLocation.name}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text>{{currentLocation.address}}</text>\r\n\t\t\t\t\t\t</view>\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"alter-address-button\" @tap=\"authVerification\">\r\n\t\t\t\t\t\t<text>修改地址</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"choose-address-box\" v-if=\"!currentLocation\">\r\n\t\t\t\t\t<view style=\"border: 1px #1296DB solid;border-radius: 5px;color: #1296DB;margin: 2vw;width: 90vw;text-align: center;\" @tap=\"getUserLocation\" v-if=\"!currentLocation\">\r\n\t\t\t\t\t\t<text>选择收货地址></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\t\r\n\t\t\t</view>\r\n\t\t\t\n\t\t\t<!-- <view class=\"content\">\n\t\t\t\t<view class=\"content-tip\">示例:张三，138xxxxxxxx，上海市浦东新区xx路xx号xx室\n                </view>\n\t\t\t    <auto-parse-address boxClass=\"c-box\" @result=\"result\"></auto-parse-address>\n\t\t\t</view> -->\r\n\t\t\t<view style=\"border-radius: 10px;box-shadow: 2px -1px 10px 0.5px rgba(0, 0, 0, 0.2);margin-top: 10px;\">\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"left\">收货人</view>\r\n\t\t\t\t\t<input type=\"text\" placeholder-class=\"line\" placeholder=\"请填写收货人姓名\" v-model=\"pathObj.name\" @blur=\"validateForm('name')\" @change=\"validateForm('name')\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"left\">手机号码</view>\r\n\t\t\t\t\t<input type=\"text\" placeholder-class=\"line\" placeholder=\"请填写收货人手机号\" v-model=\"pathObj.tel\" @blur=\"validateForm('phone')\" @change=\"validateForm('phone')\"/>\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"item\">\r\n\t\t\t\t\t<view class=\"left\">所在地区</view>\r\n\t\t\t\t\t<view @tap=\"showPicker\" >{{pathObj.city}}</view>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"left\">详细地址</view>\r\n\t\t\t\t\t<input type=\"text\" placeholder-class=\"line\" placeholder=\"街道、楼牌等\" v-model=\"pathObj.details\" /> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\" @change=\"radioChange\">\r\n\t\t\t\t\t<view class=\"left\">设为默认地址</view>\r\n\t\t\t\t\t<switch @change=\"radioChange\" color=\"#1296DB\" :checked=\"pathObj.isDefault==1\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"position: fixed;bottom: 20px;width: 94VW;\" @tap='addOrUpdateAddress()'> \r\n\t\t\t\t\t<view class=\"add-path-btn\">保存</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\n\t\t\t\n\t\t</view>\n\t\t\n\t</view>\n</template>\n\n<script>\n\timport autoAddressParse from '../../components/uni/auto-parse-address/auto-parse-address.vue'//路径修改为自己的实际路径\n\timport mpvuePicker from '../../components/uni/mpvue-citypicker/mpvueCityPicker.vue'\n\timport request from '@/common/api/request.js'\nexport default {\n\tprops: {\n\t\tlist: {\n\t\t\ttype: Array,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\r\n\t\t\tlongitude:120.0,\r\n\t\t\tlatitude:24.0,\r\n\t\t\tcurrentLocation:null, //用户选择的地址\n\t\t\tpickerValueDefault: [0,0,1],\n\t\t\tpathObj:{\n\t\t\t\tname:\"\",\n\t\t\t\ttel:\"\",\n\t\t\t\tcity:\"\",\n\t\t\t\tdetails:\"\",\n\t\t\t\tisDefault:0,\n\t\t\t\topenid: uni.getStorageSync(\"openid\"),\n\t\t\t\tuserId:0,\n\t\t\t\tid:0,\r\n\t\t\t\tlongitude:0,\r\n\t\t\t\tlatitude:0,\n\t\t\t},\n\t\t\t//要修改的地址在list中的索引（默认-1 表示添加）\n\t\t\ti:-1,\n\t\t\t//是否修改的状态\n\t\t\tisStatus:false,\n\t\t\trules: {\n\t\t\t\tname: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入姓名',\n\t\t\t\t\ttrigger: ['blur', 'change']\n\t\t\t\t}],\n\t\t\t\ttel: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入手机号',\n\t\t\t\t\ttrigger: ['blur', 'change'],\n\t\t\t\t\ttype: 'number',\n\t\t\t\t}, {\n\t\t\t\t\tvalidator: function(rule, value, callback) {\n\t\t\t\t\t\tif (/^1[34578]\\d{9}$/.test(value) == false) {\n\t\t\t\t\t\t\tcallback(new Error(\"手机号格式错误\"));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttrigger: \"blur\"\n\t\t\t\t}],\n\t\t\t\tdetail: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入详细地址',\n\t\t\t\t\ttrigger: ['blur', 'change']\n\t\t\t\t}],\n\t\t\t}\n\t\t};\n\t},\n\tonLoad(e) {\n\t\tif (e.data) {\n\t\t  uni.setNavigationBarTitle({\n\t\t\ttitle: \"修改地址\",\n\t\t  });\n\t\t  let result = JSON.parse(e.data);\n\t\t  this.pathObj = result.item;\r\n\t\t  this.currentLocation = {\r\n\t\t\t  name:this.pathObj.city,\r\n\t\t\t  address:this.pathObj.details.split(\";\")[0],\r\n\t\t\t  longitude:this.pathObj.longitude,\r\n\t\t\t  latitude:this.pathObj.latitude\r\n\t\t  }\t\r\n\t\t  this.pathObj.details = this.pathObj.details.split(\";\")[1]\n\t\t  this.isStatus = true;\n\t\t}\n\t  },\n\t  components: {\n\t\t\"auto-parse-address\": autoAddressParse,\n\t\tmpvuePicker,\n\t  },\n\t//页面生命周期（微信开发工具中没有使用导航栏改用保存按钮）\n\tonNavigationBarButtonTap() {\r\n\t\t\n\t},\n\tmounted() {\r\n\t\t\r\n\t},\n\tmethods: {\r\n\t\tgetUserLocation(){\r\n\t\t\tconsole.log(\"获取位置\")\r\n\t\t\tlet that = this\r\n\t\t\t\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'gcj02', //返回可以用于uni.openLocation的经纬度\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log(res)\t\r\n\t\t\t\t\tthat.longitude = res.longitude\r\n\t\t\t\t\tthat.latitude = res.latitude\t\r\n\t\t\t\t\tthat.handerChooseLocation (res.latitude, res.longitude)\r\n\t\t\t\t},\r\n\t\t\t\tfail(res) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '授权',\r\n\t\t\t\t\t\tcontent: '需要授权才能获取位置信息',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tthat.authVerification()\r\n\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tauthVerification () {\r\n\t\t  uni.getSetting({\r\n\t\t    success: (res) => {\r\n\t\t      if (res.authSetting['scope.userLocation']) { /* 用户授权成功时走这里 */\r\n\t\t        this.getUserLocation()\r\n\t\t      } else if (res.authSetting['scope.userLocation'] === undefined) { /* 用户未授权时走这里 */\r\n\t\t        console.log('没有授权')\r\n\t\t        this.handleOpenSetting()\r\n\t\t      } else { /* 用户拒绝了授权后走这里 */\r\n\t\t        console.log('拒绝了授权 false')\r\n\t\t        this.handleOpenSetting()\r\n\t\t      }\r\n\t\t    },\r\n\t\t  })\r\n\t\t},\r\n\t\thanderChooseLocation (latitude, longitude) {\r\n\t\t\tvar that = this\r\n\t\t\tconsole.log(that.latitude+'/'+that.longitude)\r\n\t\t  uni.chooseLocation({\r\n\t\t    latitude: that.latitude,\r\n\t\t    longitude: that.longitude, \r\n\t\t    success: (res) => {\r\n\t\t\t\r\n\t\t      console.log('wx.chooseLocation res=', res)\r\n\t\t      that.currentLocation = res\r\n\t\t\t  console.log(that.currentLocation)\r\n\t\t    },\r\n\t\t    fail: function (err) {\r\n\t\t      console.log('取消按钮', err)\r\n\t\t    }\r\n\t\t  })\r\n\t\t},\r\n\t\thandleOpenSetting () {\r\n\t\t  wx.openSetting({\r\n\t\t    success: (res) => {\r\n\t\t      console.log('定位 openSetting', res)\r\n\t\t      if (res.authSetting[\"scope.userLocation\"]) {\r\n\t\t        this.handerChooseLocation()\r\n\t\t      }\r\n\t\t    }\r\n\t\t  })\r\n\t\t},\r\n\t\t\n\t\taddOrUpdateAddress(){\n\t\t\t\n\t\t\tif (this.validateForm()) {\n\t\t\t\tif (this.isStatus) {\n\t\t\t\t\tthis.updateAddress();\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.addAddress();\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t// uni.$emit('addressUpdated', 'Success');  // 发出事件 用于更新界面\n\t\t\t\t\n\t\t\t}\n        },\n\t\tasync addAddress(){\r\n\t\t\t\tif(!this.currentLocation){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请选择收货地址\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.pathObj.city=this.currentLocation.address\r\n\t\t\t\t\tthis.pathObj.details=this.currentLocation.name + ';'+this.pathObj.details\r\n\t\t\t\t\tthis.pathObj.longitude = this.currentLocation.longitude\r\n\t\t\t\t\tthis.pathObj.latitude = this.currentLocation.latitude\r\n\t\t\t\t}\n\t\t\t\tconst url = '/api/user/addAddress';\n\t\t\t\tconst method = 'POST'; \n\t\t\t\tconst data = {\n\t\t\t\t  pathObj: this.pathObj\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\n\t\t\t\t\tif(response.code == 99){\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:'添加成功',\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'添加失败',\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\n\t\t\t\t}\n\t\t},\n\t\tasync updateAddress(){\r\n\t\t\t\tif(!this.currentLocation){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请选择收货地址\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.pathObj.city=this.currentLocation.address\r\n\t\t\t\t\tthis.pathObj.details=this.currentLocation.name + ';' +this.pathObj.details \r\n\t\t\t\t\tthis.pathObj.longitude = this.currentLocation.longitude\r\n\t\t\t\t\tthis.pathObj.latitude = this.currentLocation.latitude\r\n\t\t\t\t}\n\t\t\t\tconst url = '/api/user/updateAddress';\n\t\t\t\tconst method = 'POST'; \n\t\t\t\tconst data = {\n\t\t\t\t  pathObj: this.pathObj\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\n\t\t\t\t\tif(response.data.flag == 99){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:'修改成功',\n\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'添加失败',\r\n\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t},\n\t\t\n        showPicker() {\n          this.$refs.mpvuePicker.show();\n        },\n        onConfirm(e) {\n          this.pathObj.city=e.label;\n\t\t  \n        },\n\t\tradioChange(){\n\t\t\t this.pathObj.isDefault = this.pathObj.isDefault === 0 ? 1 : 0;\n\t\t},\n        validateForm() {\n                if (!this.pathObj.name) {\n                    uni.showToast({\n                        title: '请输入收货人姓名',\n                        icon: 'none'\n                    });\n                    return false;\n                }\n\n                if (!this.pathObj.tel) {\n                    uni.showToast({\n                        title: '请输入手机号码',\n                        icon: 'none'\n                    });\n                    return false;\n                }\n\n                const phoneReg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\n                if (!phoneReg.test(this.pathObj.tel)) {\n                    uni.showToast({\n                        title: '手机号码格式错误',\n                        icon: 'none'\n                    });\n                    return false;\n                }\n\n                if (!this.pathObj.details) {\n                    uni.showToast({\n                        title: '请输入详细地址',\n                        icon: 'none'\n                    });\n                    return false;\n                }\n\n                return true;\n            },\n\t    result(res) {\n\t    \t\t\tthis.pathObj.name = res.name;\n\t    \t\t\tthis.pathObj.tel = res.phone;\n\t    \t\t\tthis.pathObj.city = res.province + '-' + res.area + '-' + res.city;\n\t    \t\t\tthis.pathObj.details = res.detail;\n\t    \t\t},\t\t\n\n\t\t\n\t}\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\r\n.alter-address-button{\r\n\tborder: 1px #1296DB solid;\r\n\tborder-radius: 5px;\r\n\tcolor: #1296DB;\r\n\tpadding: 5px;\r\n\theight: 15px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\t\r\n.choose-address-box{\r\n\tpadding: 5px;\r\n\tborder-radius: 10px;\r\n\tbox-shadow: 2px -1px 10px 0.5px rgba(0, 0, 0, 0.2);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\t\r\n.address-container{\r\n\t\r\n\twidth: 100%;\r\n\tborder-radius: 15px;\r\n\tbackground: white;\r\n}\t\n/deep/ .line {\n\tcolor: #4d4d4d;\n\tfont-size: 28rpx;\n}\n.wrap {\n\tbackground-color: #f2f2f2;\n\t.top {\n\t\tbackground-color: #ffffff;\n\t\tborder-top: solid 2rpx #aaa;\n\t\tpadding: 3vw;\n\t\t.item {\n\t\t\tpadding: 16rpx 16rpx;\n\t\t\tdisplay: flex;\n\t\t\tfont-size: 32rpx;\n\t\t\tline-height: 70rpx;\n\t\t\talign-items: center;\n\t\t\tborder-bottom: solid 2rpx #F7F7F7;\n\t\t\t.left {\n\t\t\t\twidth: 180rpx;\n\t\t\t}\n\t\t\tinput {\n\t\t\t\ttext-align: left;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.address {\n\t\t\tpadding: 20rpx 0;\n\t\t\ttextarea {\n\t\t\t\t// width: 100%;\n\t\t\t\theight: 150rpx;\n\t\t\t\tbackground-color: #f7f7f7;\n\t\t\t\tline-height: 60rpx;\n\t\t\t\tmargin: 40rpx auto;\n\t\t\t\tpadding: 20rpx;\n\t\t\t}\n\t\t}\n\t\t.site-clipboard {\n\t\t\tpadding-right: 40rpx;\n\t\t\ttextarea {\n\t\t\t\t// width: 100%;\n\t\t\t\theight: 150rpx;\n\t\t\t\tbackground-color: #f7f7f7;\n\t\t\t\tline-height: 60rpx;\n\t\t\t\tmargin: 40rpx auto;\n\t\t\t\tpadding: 20rpx;\n\t\t\t}\n\t\t\t.clipboard {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #F7F7F7;\n\t\t\t\theight: 80rpx;\n\t\t\t\t.icon {\n\t\t\t\t\tmargin-top: 6rpx;\n\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n.content-tip {\n    background-color: #1296DB;\n    color: white;\n\tmargin: 0;\n\tborder-radius: 20rpx;\n\tpadding: 15rpx 10rpx;\n}\n.add-path-btn{\r\n\ttext-align: center;\n\tbackground: linear-gradient(to right, #1296DB, #1296DB);\n\tcolor: #fff;\n\tborder-radius: 50rpx;\n\tpadding: 10rpx 220rpx;\n    \n   \n}\n}\n</style>\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addPath.vue?vue&type=style&index=0&id=07147041&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addPath.vue?vue&type=style&index=0&id=07147041&lang=scss&scoped=true&\"","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user-add-path/addPath.vue'\ncreatePage(Page)"],"sourceRoot":""}
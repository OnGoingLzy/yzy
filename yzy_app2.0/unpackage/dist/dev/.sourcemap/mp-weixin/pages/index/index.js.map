{"version":3,"sources":["uni-app:///main.js","webpack:///E:/workbench/yzy/yzy_app2.0/pages/index/index.vue?b076","webpack:///E:/workbench/yzy/yzy_app2.0/pages/index/index.vue?4b2f","webpack:///E:/workbench/yzy/yzy_app2.0/pages/index/index.vue?f2d9","webpack:///E:/workbench/yzy/yzy_app2.0/pages/index/index.vue?7607","uni-app:///pages/index/index.vue","webpack:///E:/workbench/yzy/yzy_app2.0/pages/index/index.vue?61da"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniGrid","uniGridItem","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l1","_self","_c","__map","Math","ceil","category","length","page","pageIndex","$orig","__get_orig","l0","getPageCategories","_isMounted","e0","$event","index","item","_temp","arguments","currentTarget","dataset","_temp2","eventParams","toCategory","id","categoryName","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","defaultIcon","searchObj","searchContent","pageSize","drugsList","sortRule","filterRule","searchResults","swiperUrl","icon","testImg","goodsCard2","mounted","onLoad","methods","toVideo1","uni","url","toVideo2","toDoctorQuery","toAuthorizePhone","toAppointment","toSubPack","toOtherMiniProgram","appId","path","extraData","success","fail","gotoAuthenticate","toCertificate","swiperClick","queryPay","method","value","response","title","testPublishMsg","testPublishMsg2","testPay","openid","main_order_id","shopId","goodsList","goodsId","num","detail_order_id","businessUnitId","testQueryPay","out_order_id","testSubmitRefundApplication","new_main_order_id","wxpay_order_id","testRequestRefund","origin_out_order_id","testRequestQueryRefund","testExistsPrePayOrderWxPay","requestWxPay","provider","timeStamp","nonceStr","package","signType","paySign","that","setIcon","getGoodsCategory","parentId","toNewSearch","getResult","Value1","searchGoods","res","toGoodsSellShop","getOpenid","err","js_code","secret","checkUserExist","sharerPhone"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\ntry {\n  components = {\n    uniGrid: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-grid/components/uni-grid/uni-grid\" */ \"@/uni_modules/uni-grid/components/uni-grid/uni-grid.vue\"\n      )\n    },\n    uniGridItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-grid/components/uni-grid-item/uni-grid-item\" */ \"@/uni_modules/uni-grid/components/uni-grid-item/uni-grid-item.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(\n    Math.ceil(_vm.category.length / 15),\n    function (page, pageIndex) {\n      var $orig = _vm.__get_orig(page)\n      var l0 = _vm.getPageCategories(pageIndex)\n      return {\n        $orig: $orig,\n        l0: l0,\n      }\n    }\n  )\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, index, item, pageIndex) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index,\n        item = _temp2.item,\n        pageIndex = _temp2.pageIndex\n      var _temp, _temp2\n      return _vm.toCategory(index, item.id, pageIndex, item.categoryName)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- Nihao -->\n\t<view class=\"content\">\r\n\t\t<!-- <button @click=\"toSubPack\">跳转分包-久远银海</button> -->\n\t<!-- Hello -->\r\n\t\t<view class=\"search-container\">\r\n\t\t\t<!-- <image src=\"/static/icon/yzyicon.svg\" style=\"width: 224px;height: 52px;border-radius: 20%;object-fit: cover;\"></image> -->\r\n\t\t    <view class=\"search-input\" @click=\"toNewSearch()\">\r\n\t\t      <input type=\"text\" class=\"search-text\"  disabled=\"true\" placeholder=\"药名、品牌、厂家、症状\"/>\r\n\t\t\t  <view style=\"height: 100%;width: 40px;text-align: center;\" @tap=\"clearSpmc()\">\r\n\t\t\t\t  <text class=\"voice-icon\" style=\"    line-height: 30px;\">×</text>\r\n\t\t\t  </view>\r\n\t\t\t  <view>\r\n\t\t      <button  @tap=\"toNewSearch()\" style=\"height: 30px; max-width: 20vw; border-radius: 30px; background-color: #409EFF; color: #fff; font-size: 14px;display: flex;justify-content: center;\">\r\n\t\t        <text style=\"line-height: 30px;\">搜索</text>\r\n\t\t      </button>\r\n\t\t\t  </view>\r\n\t\t\t  \r\n\t\t    </view>\r\n\t\t</view>\r\n\t\t<view class=\"color-container\">\r\n\t\t\r\n\t\t\t<!-- 分类容器 -->\r\n\t\t\t<view class=\"main-container\" style=\"height: auto;\">\r\n\t\t\t\t\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text style=\"font-weight: bold;\">商品分类</text>\r\n\t\t\t\t</view> \r\n\t\t\t\t<view>\r\n\t\t\t\t\t<swiper style=\"min-height: 61.6vw;;\" circular indicator-dots=\"true\"  interval=\"2000\" indicator-active-color=\"#409EFF\"\r\n\t\t\t\t\t\tduration=\"500\">\r\n\t\t\t\t\t\t<swiper-item v-for=\"(page, pageIndex) in Math.ceil(category.length / 15)\" :key=\"pageIndex\">\r\n\t\t\t\t\t\t\t<uni-grid :column=\"5\" :highlight=\"true\"  :showBorder=\"false\" >\r\n\t\t\t\t\t\t\t\t<uni-grid-item v-for=\"(item, index) in getPageCategories(pageIndex)\" :index=\"item.id\" :key=\"item.id\" >\r\n\t\t\t\t\t\t\t\t\t<view class=\"grid-item-box\" style=\"background-color: #fff;\" @click=\"toCategory(index,item.id,pageIndex,item.categoryName)\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- <image :src=\"icon[index%7]\" class=\"icon-class\"></image> -->\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"'http://images.yndzyf.com/getimage.ashx?mlszh='+item.categoryImg\" class=\"icon-class\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text\" style=\"font-size: 13px;\">{{item.categoryName}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</uni-grid-item>\r\n\t\t\t\t\t\t\t</uni-grid>\t\r\n\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t</swiper>\t\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view style=\"\" class=\"main-container\" style=\"display: flex;justify-content: space-between;\"> \r\n\t\t<!-- @click=\"toAppointment()\" -->\r\n\t\t\t<!-- <view class=\"active-card\" >\r\n\t\t\t\t<image src=\"http://images.yndzyf.com/getimage.ashx?mlszh=21946532\" style=\"width: 32px;height: 32px;\"></image>\r\n\t\t\t\t<text style=\"font-weight: bold;\">预约挂号</text>\r\n\t\t\t</view> -->\r\n\t\t\t\r\n\t\t\t<view class=\"active-card\" @click=\"toVideo1\">\r\n\t\t\t\t<image src=\"http://images.yndzyf.com/getimage.ashx?mlszh=21974134\" style=\"width: 32px;height: 32px;\"></image>\r\n\t\t\t\t<text style=\"font-weight: bold;\">科普宣传</text>\r\n\t\t\t</view> \r\n\t\t\t\r\n\t\t\t<view class=\"active-card\" @click=\"toVideo2\">\r\n\t\t\t\t<image src=\"http://images.yndzyf.com/getimage.ashx?mlszh=21974147\" style=\"width: 32px;height: 32px;\"></image>\r\n\t\t\t\t<text style=\"font-weight: bold;\">{{'云找药\\n'+'使用指南'}}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 轮播图 -->\r\n\r\n\t\t\t<view class=\"uni-margin-wrap\">\r\n\t\t\t\t<swiper class=\"swiper\" circular  autoplay=\"true\" interval=\"3000\" style=\"height: 43vw;width: 96vw;\"\r\n\t\t\t\t\tduration=\"1000\">\r\n\t\t\t\t\t<swiper-item v-for=\"(url,i) in swiperUrl\" :key=\"i\">\r\n\t\t\t\t\t\t<image :src=\"url\" class=\"swiper-2\" :mode=\"'scaleToFill'\" @click=\"toOtherMiniProgram(i)\"></image>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\t\t\r\n\r\n\t\t\r\n\t\t<view class=\"recommendation-title\">\r\n\t\t\t<text style=\"font-size: 19px;font-weight: bold;\">药房精选</text>\r\n\t\t</view>\r\n\t\t<!-- 推荐药品容器 -->\r\n\t\t<view class=\"main-container2\" >\r\n\t\t\t<view v-for=\"(goods, i) in searchResults\" :key=\"i\" @click=\"toGoodsSellShop(goods)\" class=\"recommendation-box\">\r\n\t\t\t\t <goods-cardbigimg :goods=\"goods\"></goods-cardbigimg> \r\n\t\t\t\t<goods-card2 :goods=\"goods\"></goods-card2>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <button @click=\"testPay\">直接支付1分</button> -->\r\n\t\t<!-- <button @click=\"testQueryPay('202308177097851972444225536','202300000043')\">查询支付结果</button> -->\r\n\t\t<!-- <button @click=\"testExistsPrePayOrderWxPay\">支付已存在的订单</button> -->\r\n\r\n\t\t<!-- <button @click=\"testSubmitRefundApplication\">提交退款申请</button>\r\n\t\t<button @click=\"testRequestRefund\">正式请求微信退款</button>\r\n\r\n\t\t<button @click=\"testRequestQueryRefund\">查询退款结果</button> -->\r\n\t\t<!-- <button @click=\"testPublishMsg\">审核完消息推送</button>\r\n\t\t<button @click=\"testPublishMsg2\">未付款消息推送</button> -->\r\n\t\t<!-- <button @click=\"testPublishMsg\">审核完消息推送</button>\r\n\t\t<button @click=\"testPublishMsg2\">未付款消息推送</button>\r\n\t\t<button @click=\"queryPay\">批量查询微信支付结果</button> -->\r\n\t\t<view style=\"display: flex;width: 100%;justify-content: center;\" @click=\"toCertificate\">\r\n\t\t\t<view class=\"certificate-box\">\r\n\t\t\t\t<text v-text=\"'平台资质证书展示'\" style=\"color: #fff; text-shadow: 4px 4px 4px rgba(0, 0, 0, 0.15);\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"index-bottom\">\r\n\t\t\t<view>点此阅读</view>\r\n\t\t\t<view style=\"color: #1296DB;\" @click=\"gotoAuthenticate()\">《云找药用户须知》</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- <uni-popup ref=\"popup\" type=\"center\" >\r\n\t\t\t<view style=\"width: 80vw;padding: 3vw;background: white;border-radius: 15px;text-align: center;\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text style=\"font-size: 18px;font-weight: bold;\">路- 一路艰辛 一路相伴</text>\r\n\t\t\t\t</view>\r\n\t\t\t  <view>\r\n\t\t\t\t  <text>十年来\n\t\t\t\t   我们努力将腹膜透析液\n\t\t\t\t   送到更多肾衰竭患者家中\n\t\t\t\t   未来，我们会继续坚持\r\n\t\t\t\t   </text>\r\n\t\t\t  </view>\r\n\t\t\t  <video\r\n\t\t\t     controls\r\n\t\t\t     id=\"myvideo\"\r\n\t\t\t     :src=\"videoUrl\"\r\n\t\t\t     v-if=\"videoPlay\"\r\n\t\t\t\t autoplay=\"true\"\r\n\t\t\t  ></video>\r\n\t\t\t</view>\r\n\t\t</uni-popup> -->\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t</view>\r\n</template>\n\n<script>\r\n\timport goodsCard2 from '@/components/goods/goods_card2.vue';\r\n\timport request from '@/common/api/request.js'\r\n\t\r\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\t\r\n\t\t\t\tdefaultIcon:'../../static/icon/yp.png',\r\n\t\t\t\tsearchObj: {\r\n\t\t\t\t\tsearchContent: '', //商品查询名\r\n\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tdrugsList: [],\r\n\t\t\t\t\tsortRule:'默认',\r\n\t\t\t\t\tfilterRule:'无',//筛选条件\r\n\t\t\t\t},\r\n\t\t\t\tsearchResults:[],\r\n\t\t\t\tcategory:[],\r\n\t\t\t\tswiperUrl:[\r\n\t\t\t\t\t\"http://images.yndzyf.com/getimage.ashx?mlszh=21562118&sy=\",\r\n\t\t\t\t\t\"http://images.yndzyf.com/getimage.ashx?mlszh=20999312&sy=\",\r\n\t\t\t\t\t\"http://images.yndzyf.com/getimage.ashx?mlszh=21182372&sy=\",\r\n\t\t\t\t],\r\n\t\t\t\ticon:[\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品1.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品2.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品3.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品4.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品5.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品6.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品7.svg',\r\n\t\t\t\t\t// 添加更多图片文件名\r\n\t\t\t\t],\t\t\r\n\t\t\t\ttestImg:[\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21089350',\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21089354',\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21089391',\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21089393',\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21088516',\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21089507',\r\n\t\t\t\t\t'http://images.yndzyf.com/getimage.ashx?mlszh=21089630'\r\n\t\t\t\t]\n\t\t\t}\n\t\t},\r\n\t\tcomponents:{goodsCard2 },\r\n\t\tmounted() {\r\n\t\t\tthis.searchGoods()\r\n\t\t\tthis.getGoodsCategory()\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\t\r\n\t\t},\n\t\tmethods: {\r\n\t\t\ttoVideo1(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/video_page/video_page?src='+encodeURIComponent(JSON.stringify(\"https://appletservice.dyb.yn.cn/jkkp.mp4\"))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoVideo2(){\r\n\t\t\t\t\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/video_page/video_page?src='+encodeURIComponent(JSON.stringify(\"https://appletservice.dyb.yn.cn/syzn.mp4\"))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoDoctorQuery(){\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl:\"/subPackage_appointment/doctor_queryAppointment/doctor_queryAppointment\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoAuthorizePhone() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//前往预约界面\r\n\t\t\ttoAppointment(){\r\n\t\t\t\tif(!uni.getStorageSync(\"phone\")){\r\n\t\t\t\t\tthis.toAuthorizePhone()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/subPackage_appointment/appointment/appointment\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoSubPack(){\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t// url:\"/subPackage_appointment/index/index\"\r\n\t\t\t\t\turl:\"/subPackage_yinhai/index/index\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoOtherMiniProgram(i){\r\n\t\t\t\tvar that = this\r\n\t\t\t\t// const appid = 'xx'\r\n\t\t\t\t// const path = 'pages/index/index?id=123'\r\n\t\t\t\tconsole.log(i)\r\n\t\t\t\tif(i==1) {\r\n\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t//   url: '/pages/outer_webview/outer_webview2?url='+encodeURIComponent(JSON.stringify('https://www.baidu.com'))\r\n\t\t\t\t\t//   // url: '/pages/outer_webview/outer_webview2?url='+encodeURIComponent(JSON.stringify('https://d.baiyaodajiankang.com/w6mkv'))\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tuni.navigateToMiniProgram({\r\n\t\t\t\t\t  appId: 'wxffe680a300a29912',\r\n\t\t\t\t\t  path: '/pages/index/index',\r\n\t\t\t\t\t  extraData: {\r\n\t\t\t\t\t    'from': '云找药'\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  success(res) {\r\n\t\t\t\t\t    // 打开成功\r\n\t\t\t\t\t\tconsole.log(\"跳转其他小程序成功\")\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  fail: err => {\r\n\t\t\t\t\t    console.log(err);\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif(i==2){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar src= 'https://eca1adb7636e0fe5dc2895c2318b65e2.v.smtcdns.com/om.tc.qq.com/Af3CDF-hSwPF66LzjQoACa9tUDafKVbukLNaxG7ONCzk/B_JxNyiJmktHRgresXhfyMelgW8UCu677gtCk0UpllLP1NXwzgrLud5EhnUFs-ktvh/svp_50001/szg_1891_50001_0bf2fqabwaaabuapdgfuq5pvclgddmwaag2a.f632.mp4?sdtfrom=v1104&guid=1361c0d17440cc9d&vkey=CB8D01EB1D223FF0AF6C3AE537727079834E98052E1A339F3BB39B5AB4ACE8154377DA709626FB7F9334A7D1BBBCD699D4D0168B96CFD3C3F069E2DDCCF09D20D23890892B2429EBE6BCCDDD744329DA484C696480267431EEF574BB768EEFC104C3E32AE0C7B2EB670046C14CD0C7E42D0CCB475009CAA90AD90098E868C9157AEADE61117EDE7EC1D44FEA7125B18E7258FF2891623F996944EAD78002EA947D51BC901CB8E86E'\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'/pages/video_page/video_page?src='+encodeURIComponent(JSON.stringify(src))\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\t\r\n\t\t\tgotoAuthenticate(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/authenticate/authenticate',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoCertificate(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/shop_certificate/shop_certificate?shopName='+encodeURIComponent(JSON.stringify(\"云南省医药有限公司\"))+'&shopId='+encodeURIComponent(JSON.stringify(\"80-AG\"))\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetPageCategories(pageIndex) {\r\n\t\t\t    const startIndex = pageIndex * 15;\r\n\t\t\t    const endIndex = Math.min(startIndex + 15, this.category.length);\r\n\t\t\t    return this.category.slice(startIndex, endIndex);\r\n\t\t\t  },\r\n\t\t\tswiperClick(){\r\n\t\t\t\tconsole.log(\"click swiper\")\r\n\t\t\t},\r\n\t\t\t//\r\n\t\t\tasync queryPay(){\r\n\t\t\t\tconst url = '/api/trade/queryPayOrder';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tvalue:\"\",\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试消息推送\r\n\t\t\tasync testPublishMsg(){\r\n\t\t\t\tconst url = '/api/PublishMsg/PublishRecipeAuditMsg';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tvalue:\"\",\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试消息推送2\r\n\t\t\tasync testPublishMsg2(){\r\n\t\t\t\tconst url = '/api/PublishMsg/PublishNoPayMsg';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tvalue:\"\",\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试支付\r\n\t\t\tasync testPay(){\r\n\t\t\t\tconst url = '/api/example/testWechatPay';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\topenid: uni.getStorageSync(\"openid\"),\r\n\t\t\t\t\tmain_order_id : \"20230815testOrder1\",\r\n\t\t\t\t\tshopId: '1002',\r\n\t\t\t\t\tgoodsList: [\r\n\t\t\t\t\t\t{goodsId: '10010',\r\n\t\t\t\t\t\t num: 1,\r\n\t\t\t\t\t\t detail_order_id: '', //细流水号，预留空,在后端生成\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{goodsId: '10012',\r\n\t\t\t\t\t\t num: 1,\r\n\t\t\t\t\t\t detail_order_id: '',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbusinessUnitId:'1002',\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\tthis.requestWxPay(response.data,data.main_order_id)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '创建订单失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试查询支付\r\n\t\t\tasync testQueryPay(out_order_id,main_order_id){\r\n\t\t\t\tconst url = '/api/example/testQueryPayOrder';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\topenid: uni.getStorageSync(\"openid\"),\r\n\t\t\t\t\tmain_order_id : main_order_id,\r\n\t\t\t\t\tout_order_id : out_order_id,\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '查询失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试提交退款申请\r\n\t\t\tasync testSubmitRefundApplication(){\r\n\t\t\t\tconst url = '/api/example/submitRefundApplication';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tbusinessUnitId:'1002',\r\n\t\t\t\t\topenid: uni.getStorageSync(\"openid\"),\r\n\t\t\t\t\tnew_main_order_id : \"new_main_order_id7\", //新生成的退单主订单号\r\n\t\t\t\t\tout_order_id: \"202308177097745236538425344\", //要退款的商户订单号\r\n\t\t\t\t\twxpay_order_id: \"4200001899202308176926895406\",//要退款的微信订单号\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '申请退款失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试提交退款请求\r\n\t\t\tasync testRequestRefund(){\r\n\t\t\t\tconst url = '/api/example/testRequestRefund';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tbusinessUnitId:'1002',\r\n\t\t\t\t\topenid: uni.getStorageSync(\"openid\"),\r\n\t\t\t\t\torigin_out_order_id : \"202308177097745236538425344\", //原商户订单号\r\n\t\t\t\t\tout_order_id: \"202308257100739736688144384\", //商户订单号\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '申请退款失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试查询退款结果\r\n\t\t\tasync testRequestQueryRefund(){\r\n\t\t\t\tconst url = '/api/example/testRequestQueryRefund';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tbusinessUnitId:'1002',\t\t\t\r\n\t\t\t\t\tout_order_id: \"202308147096774748114006016\", //商户订单号\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '查询失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//测试支付已存在的未支付订单\r\n\t\t\tasync testExistsPrePayOrderWxPay(){\r\n\t\t\t\tconst url = '/api/example/testExistsPrePayOrderWxPay';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tbusinessUnitId:'1002',\r\n\t\t\t\t\topenid: uni.getStorageSync(\"openid\"),\r\n\t\t\t\t\tmain_order_id : \"20230814testOrder1\",\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\tthis.requestWxPay(response.data,data.main_order_id)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '创建订单失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '服务器出错了'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trequestWxPay(data,main_order_id){\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: 'wxpay',    //支付类型-固定值\r\n\t\t\t\t\ttimeStamp: data.timeStamp, // 时间戳（单位：秒）\r\n\t\t\t\t\tnonceStr: data.nonceStr, // 随机字符串\r\n\t\t\t\t\tpackage: data.package, // 固定值\r\n\t\t\t\t\tsignType: data.signType, //固定值\r\n\t\t\t\t\tpaySign: data.paySign, //签名\r\n\t\t\t\t\t\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t// console.log('success:' + JSON.stringify(res));\r\n\t\t\t\t\t\tconsole.log(\"支付成功\");\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\ttitle: '支付成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.testQueryPay(data.out_order_id,main_order_id)//支付成功后查询一下微信支付订单状态\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tfail: function (err) {\r\n\t\t\t\t\t\t// console.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\tconsole.log(\"支付失败\");\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '支付失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//用户未支付则发一个通知\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetIcon(index) {\r\n\t\t\t\tconst icons = [\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品1.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品2.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品3.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品4.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品5.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品6.svg',\r\n\t\t\t\t\t'../../static/icon/categoryIcon/药品7.svg',\r\n\t\t\t\t\t// 添加更多图片文件名\r\n\t\t\t\t];\r\n\t\t\t\tindex = (index+Math.floor(Math.random() * (8 - 0)) + 0)%8 \r\n\t\t\t\tconst randomIcon = icons[index];\r\n\t\t\t\treturn randomIcon\r\n\t\t\t},\r\n\t\t\ttoCategory(index,id,pageIndex,categoryName){//前往分类页\r\n\t\t\t\tindex = index + 10*pageIndex\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/category/category_page?id='+encodeURIComponent(JSON.stringify(id))+'&scrollTop='+encodeURIComponent(JSON.stringify(index))+'&categoryName='+encodeURIComponent(JSON.stringify(categoryName))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getGoodsCategory(){\r\n\t\t\t\tconst url = '/api/goods/getGoodsCategory';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tparentId: '0'\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\tthis.category = response.data.data\r\n\t\t\t\t\t\tthis.category.sort((a, b) => b.weight - a.weight);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoNewSearch(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/search/search'\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tasync getResult(){\r\n\t\t\t\tconst url = '/api/控制器名/方法名';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tValue1: \"Key1\"\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\r\n\t\t\t\t\tconsole.log(response);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\tconsole.log(\"99\" + response.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tconsole.log(\"-99\" + response.result);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//搜索推荐商品/热门商品\r\n\t\t\tasync searchGoods(){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tvar that = this\t\t\t\t\r\n\t\t\t\t//发起搜索请求\r\n\t\t\t\tconst url = '/api/goods/searchGoods';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tsearchObj: that.searchObj,\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await request('yzy_app', url, method, data);\r\n\t\t\t\t\t\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(res.code == 99){\r\n\t\t\t\t\t\t//能搜索到数据\r\n\t\t\t\t\t\tif (res.data !== null) {\r\n\t\t\t\t\t\t\tthis.searchResults = res.data.data\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\t\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\ttoGoodsSellShop(goods){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/shops_selling_This_goods/shops_selling_This_goods?goods=\"+encodeURIComponent(JSON.stringify(goods))\r\n\t\t\t\t\t//传对象参数给这个页面需要使用这个方法\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getOpenid (sharerPhone){\r\n\t\t\t\t//获取code\r\n\t\t\t\tconst [err, res] = await uni.login().catch(err => err)\r\n\t\t\t\tthis.code = res.code\r\n\t\t\t\tconst url = '/api/Example/getOpenid';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\tjs_code: this.code,\r\n\t\t\t\t\tsecret: \"\"\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\t\t\t\t\t\tuni.setStorageSync(\"openid\", response.data.openid)\r\n\t\t\t\t\t\tthis.checkUserExist(response.data.openid,sharerPhone)\r\n\t\t\t\t\t\tconsole.log(\"99\" + response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tconsole.log(\"-99\" + response.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync checkUserExist(openid,sharerPhone){\r\n\t\t\t\tconst url = '/api/user/checkUserExist';\r\n\t\t\t\tconst method = 'POST'; \r\n\t\t\t\tconst data = {\r\n\t\t\t\t\topenid: openid,\r\n\t\t\t\t\tsharerPhone: sharerPhone,\r\n\t\t\t\t};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await request('yzy_app', url, method, data);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\r\n\t\t\t\t\tif(response.code == 99){\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\r\n.active-card{\r\n\t    margin: auto;\r\n\ttext-align: center;\r\n    width: 26.3vw;\n    padding: 1vw;\n    background: #fff0de;\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\r\n\tline-height: 16px;\r\n}\t\r\n.certificate-box{\r\n\tdisplay: flex;\r\n\twidth: 90%;  /* 改变按钮宽度 */\r\n\theight: 50px;\r\n\tborder-radius: 25px;  /* 增大圆角 */\r\n\tfont-size: 18px;\r\n\tfont-weight: bold;\r\n\tbackground: #6991C7;  /* fallback for old browsers */\r\n\tbackground: -webkit-linear-gradient(to right, #6991C7, #9DB8F2);  /* Chrome 10-25, Safari 5.1-6 修改渐变色 */\r\n\tbackground: linear-gradient(to right, #6991C7, #9DB8F2); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ 修改渐变色 */\r\n\tbox-shadow: 0px 10px 15px rgba(0,0,0,0.1);  /* 添加阴影 */\r\n\ttransition: all 0.3s ease;  /* 添加过渡动画 */\r\n\tmargin: 20rpx 0;\r\n\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\t\r\n.color-container{\r\n\tbackground: #f5f5f5;  /* fallback for old browsers */\r\n\tbackground: -webkit-linear-gradient(to bottom, #1296DB, #f5f5f5);  /* Chrome 10-25, Safari 5.1-6 */\r\n\tbackground: linear-gradient(to bottom, #1296DB, #f5f5f5); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\t\r\n.recommendation-title{\r\n\tbackground: #a6d0d4;  /* fallback for old browsers */\r\n\tposition: sticky;\r\n\ttop: 67px;\r\n\tbackground: #f5f5f5;\r\n\tz-index: 1;\r\n\tpadding: 0 10px;\r\n\t\r\n}\t\r\n.search-container {\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tz-index: 2;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tpadding: 10px;\r\n\tbackground: #1296DB;  /* fallback for old browsers */\n\theight: 48px;\r\n\t\r\n}\n.search-input {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid #0045cf;\n    border-radius: 24px;\n\t padding: 2px 2px 2px 2vw;\r\n\t    width: 93vw;\r\n\theight: auto;\r\n\tbackground: white;\n  }\r\n .search-text { \r\n   flex: 1;\r\n   border: none;\r\n   outline: none;\r\n   font-size: 4vw;\r\n   color: #1a1a1a;\r\n }\r\n.main-container{\r\n\tpadding: 2vw;\r\n\tbackground: white;\r\n\tborder-radius: 15px;\r\n\tmargin: 0 2vw 2vw 2vw;\r\n\twidth: 92vw;\r\n\r\n}\r\n.main-container2{\r\n\tmin-height: 200px;\r\n\tborder-radius: 15px;\r\n\tmargin: 2vw;\r\n\twidth: 96vw;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n.recommendation-box{\r\n\tbackground: white;\r\n\twidth: 46%;\r\n\tmargin: auto;\r\n\tborder-radius: 15px;\r\n\tackground: white;\r\n\tpadding: 1vw;\r\n\tmargin-bottom: 10px;\r\n\r\n}\r\n.grid-item-box {\r\n\t\r\n\tflex: 1;\r\n\t// position: relative;\r\n\t/* #ifndef APP-NVUE */\r\n\tdisplay: flex;\r\n\t/* #endif */\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tpadding: 5px 0;\r\n}\r\n.uni-margin-wrap{\r\n\tborder-radius: 15px;\r\n\twidth: 96vw;\r\n\theight: 43vw;\r\n\tmargin: 2vw;\r\n} \r\n.swiper-1{\r\n\tbackground: #a8ff78;  /* fallback for old browsers */\r\n\tbackground: -webkit-linear-gradient(to bottom, #78ffd6, #a8ff78);  /* Chrome 10-25, Safari 5.1-6 */\r\n\tbackground: linear-gradient(to bottom, #78ffd6, #a8ff78); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n\twidth: 96vw;\r\n    height: 15vh;\r\n\tborder-radius: 15px;\r\n\ttext-align: center;\r\n\t\r\n}\r\n.swiper-2{\r\n\twidth: 96vw;\r\n\theight: 43vw;\r\n\tborder-radius: 15px;\r\n\ttext-align: center;\r\n}\r\n.icon-class{\r\n\t// height: 9vw;\r\n\t// width: 9vw;\r\n\theight: 12vw;\r\n\twidth: 12vw;\r\n}\r\n.content{\r\n\tbackground: #f5f5f5;\r\n}\r\n.index-bottom{\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tfont-size: 30rpx;\r\n\tpadding-bottom: 20rpx;\r\n}\n</style>\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}
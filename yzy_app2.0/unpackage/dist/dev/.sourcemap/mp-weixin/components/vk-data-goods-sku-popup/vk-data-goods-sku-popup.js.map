{"version":3,"sources":["webpack:///E:/workbench/yzy/yzy_app2.0/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue?0318","webpack:///E:/workbench/yzy/yzy_app2.0/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue?defa","webpack:///E:/workbench/yzy/yzy_app2.0/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue?b6ea","webpack:///E:/workbench/yzy/yzy_app2.0/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue?830c","uni-app:///components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue","webpack:///E:/workbench/yzy/yzy_app2.0/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue?9581"],"names":["renderjs","component","options","__file","components","vkDataInputNumberBox","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","m0","_self","_c","themeColorFn","g0","selectArr","join","l1","__map","goodsInfo","specListName","item","index1","$orig","__get_orig","l0","list","item_value","index2","s0","__get_style","ishow","subIndex","m1","outFoStock","mode","m2","m3","m4","m5","m6","m7","m8","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","name","emits","props","value","Type","default","modelValue","goodsId","action","noStockText","stockText","goodsIdName","skuIdName","skuListName","isRxName","stockName","skuArrName","defaultSingleSkuName","maskCloseAble","borderRadius","goodsThumbName","goodsThumbBackgroundColor","minBuyNum","maxBuyNum","stepBuyNum","stepStrictly","customAction","localdata","type","priceColor","buyNowText","buyNowColor","buyNowBackgroundColor","addCartText","addCartColor","addCartBackgroundColor","disableStyle","activedStyle","btnStyle","showClose","closeImage","hideStock","theme","actionTips","defaultSelect","useCache","defaultGoods","amountType","selectedInit","safeAreaInsetBottom","complete","isShow","initKey","shopItemInfo","selectShop","selectNum","note","openTime","themeColor","color","borderColor","backgroundColor","coffee","green","created","vk","that","mounted","methods","init","findGoodsInfo","obj","actionTitle","actionAoading","url","title","loading","goods_id","success","goodsCache","fail","updateValue","updateGoodsInfo","open","findGoodsInfoRun","close","setTimeout","catch","moveHandle","skuClick","checkSelectShop","checkInpath","specList","checkItem","originalSkuList","skuList","stockNum","items","arr","item2","getArrayToSting","str","checkSelectComplete","addCart","buyNow","toast","uni","icon","getListItem","getListIndex","index","autoClickSku","defaultSelectSku","selectSku","skuArr","sku","num","clickKey","skuClickArr","spec","priceFilter","pushGoodsCache","stop","previewImage","urls","getMaxStock","maxStock","valueArr","numChange","computed","valueCom","maxBuyNumCom","max","isManyCom","isMany","priceCom","stockCom","watch","immediate","handler"],"mappings":"2JAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,iEACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,qBAAsB,WACpB,OAAO,6FAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,aAAa,eACtBC,EAAKR,EAAIS,UAAUC,KAAK,KACxBC,EAAKX,EAAIY,MAAMZ,EAAIa,UAAUb,EAAIc,eAAe,SAAUC,EAAMC,GAClE,IAAIC,EAAQjB,EAAIkB,WAAWH,GACvBI,EAAKnB,EAAIY,MAAMG,EAAKK,MAAM,SAAUC,EAAYC,GAClD,IAAIL,EAAQjB,EAAIkB,WAAWG,GACvBE,EAAKvB,EAAIwB,YAAY,CACvBH,EAAWI,MAAQ,GAAKzB,EAAIO,aAAa,gBACzCc,EAAWI,MAAQzB,EAAIO,aAAa,YAAc,GAClDP,EAAI0B,SAASV,IAAWM,EAAStB,EAAIO,aAAa,gBAAkB,KAEtE,MAAO,CACLU,MAAOA,EACPM,GAAIA,MAGR,MAAO,CACLN,MAAOA,EACPE,GAAIA,MAGJQ,EACA3B,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MAA0B,GAAZ7B,EAAI6B,KAEtC,KADA7B,EAAIO,aAAa,gBAEnBuB,EACA9B,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MAA0B,GAAZ7B,EAAI6B,KAEtC,KADA7B,EAAIO,aAAa,0BAEnBwB,EACA/B,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MAA0B,GAAZ7B,EAAI6B,KAEtC,KADA7B,EAAIO,aAAa,eAEnByB,EACAhC,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MAA0B,GAAZ7B,EAAI6B,KAEtC,KADA7B,EAAIO,aAAa,yBAEnB0B,EACAjC,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MAA4B,GAAZ7B,EAAI6B,MAA0B,GAAZ7B,EAAI6B,KAE1D,KADA7B,EAAIO,aAAa,gBAEnB2B,EACAlC,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MAA4B,GAAZ7B,EAAI6B,MAA0B,GAAZ7B,EAAI6B,KAE1D,KADA7B,EAAIO,aAAa,0BAEnB4B,EACAnC,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MACV,GAAZ7B,EAAI6B,MACQ,GAAZ7B,EAAI6B,MACM,GAAZ7B,EAAI6B,KAEA,KADA7B,EAAIO,aAAa,eAEnB6B,EACApC,EAAI4B,YAA0B,GAAZ5B,EAAI6B,MACV,GAAZ7B,EAAI6B,MACQ,GAAZ7B,EAAI6B,MACM,GAAZ7B,EAAI6B,KAEA,KADA7B,EAAIO,aAAa,yBAEvBP,EAAIqC,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLrC,GAAIA,EACJI,GAAIA,EACJG,GAAIA,EACJgB,GAAIA,EACJG,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,MAKRM,GAAmB,EACnBC,EAAkB,GACtB5C,EAAO6C,eAAgB,G,iCC9GvB,yHAAmrB,eAAG,G,+HCsHtrB,E,4CACA,OACA,CACAC,+BACAC,mGACA,cAEAC,OAEAC,OACAC,aACAC,YAEAC,YACAF,aACAC,YAIAE,SACAH,YACAC,YAGAG,QACAJ,YACAC,YAIAI,aACAL,YACAC,kBAGAK,WACAN,YACAC,cAGAM,aACAP,YACAC,eAGAO,WACAR,YACAC,eAGAQ,aACAT,YACAC,oBAGAS,UACAV,YACAC,iBAGApC,cACAmC,YACAC,qBAGAU,WACAX,YACAC,iBAGAW,YACAZ,YACAC,wBAGAY,sBACAb,YACAC,cAGArB,MACAoB,YACAC,WAGAa,eACAd,aACAC,YAGAc,cACAf,qBACAC,WAGAe,gBACAhB,cACAC,uBAGAgB,2BACAjB,YACAC,uBAGAiB,WACAlB,qBACAC,WAGAkB,WACAnB,qBACAC,aAGAmB,YACApB,qBACAC,WAGAoB,cACArB,aACAC,YAGAqB,cACAtB,gBACAC,cAGAsB,WACAC,aAGAC,YACAzB,aAGA0B,YACA1B,YACAC,gBAGA0B,aACA3B,aAGA4B,uBACA5B,aAGA6B,aACA7B,YACAC,iBAGA6B,cACA9B,aAGA+B,wBACA/B,aAGAgC,cACAhC,YACAC,cAGAgC,cACAjC,YACAC,cAGAiC,UACAlC,YACAC,cAGAkC,WACAnC,aACAC,YAGAmC,YACApC,YACAC,ktDAGAoC,WACArC,aACAC,YAGAqC,OACAtC,YACAC,mBAGAsC,YACAvC,YACAC,kBAGAuC,eACAxC,aAGAyC,UACAzC,aACAC,YAMAyC,cACA1C,aAOA2C,YACA3C,YACAC,WAGA2C,cACA5C,aACAC,YAGA4C,qBACA7C,aACAC,aAGAZ,gBACA,OACAyD,YACAlF,aACAmF,UACAC,WACAC,gBACAzF,aACAiB,YACAyE,cACAC,4BACAC,QACAzE,cACA0E,WACAC,YAEArD,SACAwB,8BACAE,sBACAC,yCACAE,uBACAC,0CACAG,UACAqB,gBACAC,sBACAC,2BAEAxB,cACAsB,yBACAC,+BACAC,uCAEAzB,cACAuB,gBACAC,sBACAC,4BAIA,aACAhC,8BACAE,sBACAC,yCACAE,uBACAC,yCACAE,cACAsB,yBACAC,+BACAC,wCAIA,eACAhC,6BACAE,sBACAC,wCACAE,+BACAC,4CAMAE,cACAsB,wBACAC,kCACAC,wCAIAC,QACAjC,gCACAE,sBACAC,2CACAE,kCACAC,4CACAE,cACAsB,2BACAC,iCACAC,4CAIAE,OACAlC,+BACAE,sBACAC,0CACAE,iCACAC,4CACAE,cACAsB,0BACAC,gCACAC,8CAMAG,mBACA,WACAC,OACA,YACAC,UAGAC,qBACAC,SAEAC,iBACA,WAEAH,eACAA,cACAA,gBACAA,2BACAA,gBACAA,kBACA,qBACAA,gCACAA,qBACAA,uBAEAA,cACAA,kBACA,qBAGAI,yBAAA,gEACA,OAEAzB,EACA0B,EADA1B,SAEA,yBAEA,OADAqB,4CACA,EAEA,IACAvB,EACAuB,EADAvB,WAEA,KACA,KACA,aACA6B,gBAEAC,KAEAR,gBACAS,aACAC,QACAC,UACAnF,MACAoF,oBAEAC,oBACAZ,+BAEAa,yBACAb,qCAEAc,gBACAd,sBAIAe,wBACA,WACA,GACAf,mBACAA,oBACAA,kCAEAA,oBACAA,yBACAA,kCAIAgB,4BACA,WAKArE,EACAqD,EADArD,YAEA,qEACAF,cACAuD,cACAA,cAEAA,oBAEA,YACAA,aACAA,UAGA,8DACAtD,YACAlB,8BACAwE,qBACAA,eAEAiB,gBAAA,oJAaA,GAZAjB,IACAA,gCACAkB,KACAvE,cAEAgC,KACA7E,eACA,eACA6E,KACAqB,sBAEAA,eAEAA,oDAAA,0CAEAA,EACAxC,cACAmB,WACAtC,kBACAvC,YACAqH,iBACAC,uBACApB,YACA,QAGAqB,mBACAD,uBACApB,YACA,QACA,QAfAlG,SAAA,wBAkBA,GAlBA,oCAkBAlB,4BAEAA,2CAAA,gBAIA,OAHAoH,6CACAoB,uBACApB,YACA,wBACA,WAIA,GAAAa,gBACA/G,wDAAA,gBACAoH,KACAlB,qBACAA,kBAAA,wBAGA,OADAA,2BACAA,oBAAA,mBACA,sCAEA,sEACA,GAAAlG,eACAA,wDAAA,gBACAoH,KACAlB,qBACAA,kBAAA,wBAGA,OADAA,2BACAA,oBAAA,mBACA,mCAGA,oBACArB,aACA,yDArEA,IAyEAwC,kBACA,WACA,uCACA,SAEA,WACA,sBACAnB,oBACAA,wBACAA,kCAGAA,oBACAA,yBACAA,kCAGAsB,wBAIAC,yBACA,WACA,UACA,wBACAvB,6BACAA,yBAEAA,yBACAA,yBAEAA,iBAEAA,sBAIAwB,2BACA,WAEA,+CACAxB,4DAKA,0BACAA,0BASAA,iBAIAyB,wBAOA,IANA,WACA,iBAIA,iBACA,uBACA,QAIA,IADA,uBACA,YACA,wCAGA,iCACAzB,8BACA,oEACA,oDACA0B,sBAEAA,sBAIA1B,yBAIA2B,qBACA,WAGA9E,EACAmD,EADAnD,UAEA,gBAEA,iBACA,KAEA+E,qBAEAC,UACAC,QAOA,UACA,cACA,gBACAC,wBACA,cACA,gBACAC,mBASA,OANA,wEACAC,YAEAjC,mEACA+B,GAEA,sCAIA,CACA,QAKA,CACA,MAKAG,4BACA,SASA,OARAF,qBACAhI,uBAEAmI,GADA,KACAA,EAEAA,SAGA,GAGAC,+BAAA,gEACA,OACA,uBACA,kCACA,SAEApC,cACA,IACAZ,EAIAY,EAJAZ,WAIAY,EAHAX,UAGAW,EAFAxD,UAEAwD,EADAnD,UAEA,uBAEA,OADAmD,mCACA,EAWA,4CAGAqC,mBACA,WACArC,uBACAY,oBACAxB,sBACAY,sBACAA,sBAQAsC,kBAEA,4CACA,WACAtC,uBACAY,oBACA9H,eACAsG,sBACAY,qBACAA,qBAKAuC,oBACAC,aACA/B,QACAgC,UAIAC,4BACA,IACA,EACA,eACA,+BACA,gDACA1I,OACA,YAGA,gBACAA,OACA,MAIA,UAEA2I,6BAGA,IAFA,IACA,KACA,mBACA,gBACAC,IACA,MAGA,UAGAC,wBASA,IARA,WAKA,GAFA7C,EADAnD,UAEA,2BACA,6BAEA,YACA,oBAKAmD,qBACA,QAMAxG,yBACA,WAEAgF,EAEAwB,EAFAxB,MACAgB,EACAQ,EADAR,WAEA,oBACA,UAEAsD,4BACA,WAEApE,EACAsB,EADAtB,cAEA,0BACAsB,gBAUA+C,qBAAA,gEACA,OAEAC,EAEA3C,EAFA4C,IACA5D,EACAgB,EADA6C,IAEA,8BACA,2BAIA,IAFA,SACA,KACA,oBACA,WACA,YACA,IACA,6BACA,UACAC,KACA,MAEAC,QACAC,UACApJ,SACAM,WAGA,IACAyF,WACAoD,mBACApD,yCAIA,sBAEAsD,uBAAA,+DACA,OACA,yBAEA,EACA,iBACA,cAEA,mBAGAC,2BACA,WAEA9G,EACAuD,EADAvD,YAEAoE,WAGA2C,kBAEAC,wBACA,gCAGA,WAEArE,EAGAY,EAHAZ,WACAtF,EAEAkG,EAFAlG,UACAoD,EACA8C,EADA9C,eAEA,uBACA,GACAsF,gBACAkB,aAIAC,uBACA,QACA,OACA,EAEA3D,EADAZ,6BAAA,EACAY,EADAlG,4BAAA6C,EACAqD,EADArD,YAAAE,EACAmD,EADAnD,UAEA,QACA+G,WACA,CACA,WACA,kBACA,SACA/B,qBACAgC,gBAEA,uBACAD,OAGA,UAEAE,sBACA,mCAIAC,UACAC,oBAEA,mBAQAC,wBACA,WACA,kBACA,cAKA,OAHA,MACAC,KAEA,GAGAC,qBACA,WAEArK,EAGAkG,EAHAlG,UACAiD,EAEAiD,EAFAjD,qBACAhD,EACAiG,EADAjG,aAEA,KASA,OAPAD,MACAA,iBACAA,yBACAA,mBAEAsK,MAEA,GAGAC,oBACA,SACA,OACA,EAEArE,EADAZ,6BAAA,EACAY,EADAlG,4BAAA6C,EACAqD,EADArD,YAAAD,EACAsD,EADAtD,UAEA,QACAyF,6BACA,CACA,WACA,kBACA,SACAN,qBACAgC,mBAEA,+BACA,2BAEA1B,EADA,MACAA,KAEAA,8BAIA,UAGAmC,oBACA,SACA,OACA,EAEAtE,EADAZ,6BAAA,EACAY,EADAlG,4BAAA6C,EACAqD,EADArD,YAAAE,EACAmD,EADAnD,UAEA,QACAsF,WACA,CACA,WACA,kBACA,SACAN,qBACAgC,gBAEA1B,KAUA,WAGAoC,OACAP,uBACA,WACA,GACAhE,UAGApB,cACA4F,aACAC,sBACA,WAEAhI,EACAuD,EADAvD,YAEA,2CACAA,KACAuD,wBAKA,c,6DCxnCA,yHAA8xC,eAAG,G","file":"components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./vk-data-goods-sku-popup.vue?vue&type=template&id=1d216e7a&scoped=true&\"\nvar renderjs\nimport script from \"./vk-data-goods-sku-popup.vue?vue&type=script&lang=js&\"\nexport * from \"./vk-data-goods-sku-popup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vk-data-goods-sku-popup.vue?vue&type=style&index=0&id=1d216e7a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d216e7a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./vk-data-goods-sku-popup.vue?vue&type=template&id=1d216e7a&scoped=true&\"","var components\ntry {\n  components = {\n    vkDataInputNumberBox: function () {\n      return import(\n        /* webpackChunkName: \"components/vk-data-input-number-box/vk-data-input-number-box\" */ \"@/components/vk-data-input-number-box/vk-data-input-number-box.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.themeColorFn(\"priceColor\")\n  var g0 = _vm.selectArr.join(\" \")\n  var l1 = _vm.__map(_vm.goodsInfo[_vm.specListName], function (item, index1) {\n    var $orig = _vm.__get_orig(item)\n    var l0 = _vm.__map(item.list, function (item_value, index2) {\n      var $orig = _vm.__get_orig(item_value)\n      var s0 = _vm.__get_style([\n        item_value.ishow ? \"\" : _vm.themeColorFn(\"disableStyle\"),\n        item_value.ishow ? _vm.themeColorFn(\"btnStyle\") : \"\",\n        _vm.subIndex[index1] == index2 ? _vm.themeColorFn(\"activedStyle\") : \"\",\n      ])\n      return {\n        $orig: $orig,\n        s0: s0,\n      }\n    })\n    return {\n      $orig: $orig,\n      l0: l0,\n    }\n  })\n  var m1 =\n    !(_vm.outFoStock || _vm.mode == 4) && _vm.mode == 1\n      ? _vm.themeColorFn(\"addCartColor\")\n      : null\n  var m2 =\n    !(_vm.outFoStock || _vm.mode == 4) && _vm.mode == 1\n      ? _vm.themeColorFn(\"addCartBackgroundColor\")\n      : null\n  var m3 =\n    !(_vm.outFoStock || _vm.mode == 4) && _vm.mode == 1\n      ? _vm.themeColorFn(\"buyNowColor\")\n      : null\n  var m4 =\n    !(_vm.outFoStock || _vm.mode == 4) && _vm.mode == 1\n      ? _vm.themeColorFn(\"buyNowBackgroundColor\")\n      : null\n  var m5 =\n    !(_vm.outFoStock || _vm.mode == 4) && !(_vm.mode == 1) && _vm.mode == 2\n      ? _vm.themeColorFn(\"addCartColor\")\n      : null\n  var m6 =\n    !(_vm.outFoStock || _vm.mode == 4) && !(_vm.mode == 1) && _vm.mode == 2\n      ? _vm.themeColorFn(\"addCartBackgroundColor\")\n      : null\n  var m7 =\n    !(_vm.outFoStock || _vm.mode == 4) &&\n    !(_vm.mode == 1) &&\n    !(_vm.mode == 2) &&\n    _vm.mode == 3\n      ? _vm.themeColorFn(\"buyNowColor\")\n      : null\n  var m8 =\n    !(_vm.outFoStock || _vm.mode == 4) &&\n    !(_vm.mode == 1) &&\n    !(_vm.mode == 2) &&\n    _vm.mode == 3\n      ? _vm.themeColorFn(\"buyNowBackgroundColor\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        l1: l1,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./vk-data-goods-sku-popup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./vk-data-goods-sku-popup.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"vk-data-goods-sku-popup\" catchtouchmove=\"true\" :class=\"valueCom && complete ? 'show' : 'none'\"\r\n\t\t@touchmove.stop.prevent=\"moveHandle\" @click.stop=\"stop\">\r\n\t\t<!-- 页面内容开始 -->\r\n\t\t<view class=\"mask\" @click=\"close('mask')\"></view>\r\n\t\t<view class=\"layer attr-content\" :class=\"{'safe-area-inset-bottom':safeAreaInsetBottom }\"\r\n\t\t\t:style=\"{ borderRadius: borderRadius + 'rpx ' + borderRadius + 'rpx 0 0' }\">\r\n\t\t\t<view class=\"specification-wrapper\">\r\n\t\t\t\t<scroll-view class=\"specification-wrapper-content\" scroll-y=\"true\">\r\n\t\t\t\t\t<view class=\"specification-header\">\r\n\t\t\t\t\t\t<view class=\"specification-left\">\r\n\t\t\t\t\t\t\t<image class=\"product-img\"\r\n\t\t\t\t\t\t\t\t:src=\"selectShop.image ? selectShop.image : goodsInfo[goodsThumbName]\"\r\n\t\t\t\t\t\t\t\t:style=\"'filter:' + (goodsInfo.isRx == 'true' ? 'blur(5px);' : 'blur(0px);')\" mode=\"aspectFill\" @click=\"previewImage\"></image>\r\n\t\t\t\t\t\t\t<view v-if=\"goodsInfo.isRx=='true'\" style=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: translate(0%, -250%);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tleft: 50%;line-height: 9px;\">\r\n\t\t\t\t\t\t\t\t<text style=\"font-size: 10px;color: white;\">处方药,开方后可查看详细信息</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"specification-right\">\r\n\t\t\t\t\t\t\t<view class=\"price-content\">\r\n\t\t\t\t\t\t\t\t<text class=\"goodsname\">{{goodsInfo.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"price-content\" :style=\"{ color: themeColorFn('priceColor') }\">\r\n\t\t\t\t\t\t\t\t<text class=\"sign\">¥</text>\r\n\t\t\t\t\t\t\t\t<text class=\"price\">{{ priceCom }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- <view class=\"inventory\" v-if=\"!hideStock\">{{ stockText }}：{{ stockCom }}</view> -->\r\n\t\t\t\t\t\t\t<!-- <view class=\"inventory\" v-else></view> -->\r\n\t\t\t\t\t\t\t<view class=\"choose\" v-show=\"isManyCom\">已选：{{ selectArr.join(' ') }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"specification-content\">\r\n\t\t\t\t\t\t<view v-show=\"isManyCom\" class=\"specification-item\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index1) in goodsInfo[specListName]\" :key=\"index1\">\r\n\t\t\t\t\t\t\t<view class=\"item-title\">{{ item.name }}</view>\r\n\t\t\t\t\t\t\t<view class=\"item-wrapper\">\r\n\t\t\t\t\t\t\t\t<view class=\"item-content\" v-for=\"(item_value, index2) in item.list\" :key=\"index2\"\r\n\t\t\t\t\t\t\t\t\t:class=\"[item_value.ishow ? '' : 'noactived', subIndex[index1] == index2 ? 'actived' : '']\"\r\n\t\t\t\t\t\t\t\t\t:style=\"[\r\n\t\t\t\t\t\t\t\t\t\titem_value.ishow ? '' : themeColorFn('disableStyle'),\r\n\t\t\t\t\t\t\t\t\t\titem_value.ishow ? themeColorFn('btnStyle') : '',\r\n\t\t\t\t\t\t\t\t\t\tsubIndex[index1] == index2 ? themeColorFn('activedStyle') : ''\r\n\t\t\t\t\t\t\t\t\t]\" @click=\"skuClick(item_value, index1, index2)\">\r\n\t\t\t\t\t\t\t\t\t{{ item_value.name }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 备注 -->\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view class=\"uni-title\"\r\n\t\t\t\t\t\t\t\tstyle=\"color: #999999;margin-bottom: 20rpx;font-size: 28rpx;\">备注</view>\r\n\t\t\t\t\t\t\t<view style=\"border-radius: 5px;border: 1px solid #999999;width: 99%;height: 60px;\">\r\n\t\t\t\t\t\t\t\t<textarea v-model=\"note\" placeholder=\"备注信息(选填)\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"height: 100%;width: 100%;font-size: 22rpx;\" maxlength=\"200\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"number-box-view\">\r\n\t\t\t\t\t\t\t<view style=\"flex: 1;\">数量</view>\r\n\t\t\t\t\t\t\t<view style=\"flex: 4;text-align: right;\">\r\n\t\t\t\t\t\t\t\t<vk-data-input-number-box v-model=\"selectNum\" :min=\"minBuyNum || 1\" :max=\"maxBuyNumCom\"\r\n\t\t\t\t\t\t\t\t\t:step=\"stepBuyNum || 1\" :step-strictly=\"stepStrictly\" :positive-integer=\"true\"\r\n\t\t\t\t\t\t\t\t\t@change=\"numChange\"></vk-data-input-number-box>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view class=\"close\" @click=\"close('close')\" v-if=\"showClose != false\">\r\n\t\t\t\t\t<image class=\"close-item\" :src=\"closeImage\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"btn-wrapper\" v-if=\"outFoStock || mode == 4\">\r\n\t\t\t\t<view class=\"sure\" style=\"color:#ffffff;background-color:#cccccc\">{{ noStockText }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn-wrapper\" v-else-if=\"mode == 1\">\r\n\t\t\t\t<view class=\"sure add-cart\" style=\"border-radius:38rpx 0rpx 0rpx 38rpx;\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('addCartColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('addCartBackgroundColor')\r\n\t\t\t\t\t}\" @click=\"addCart\">\r\n\t\t\t\t\t{{ addCartText }}\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"sure\" style=\"border-radius:0rpx 38rpx 38rpx 0rpx;\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('buyNowColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('buyNowBackgroundColor')\r\n\t\t\t\t\t}\" @click=\"buyNow\">\r\n\t\t\t\t\t{{ buyNowText }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn-wrapper\" v-else-if=\"mode == 2\">\r\n\t\t\t\t<view class=\"sure add-cart\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('addCartColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('addCartBackgroundColor')\r\n\t\t\t\t\t}\" @click=\"addCart\">\r\n\t\t\t\t\t{{ addCartText }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn-wrapper\" v-else-if=\"mode == 3\">\r\n\t\t\t\t<view class=\"sure\" :style=\"{\r\n\t\t\t\t\t\tcolor: themeColorFn('buyNowColor'),\r\n\t\t\t\t\t\tbackgroundColor: themeColorFn('buyNowBackgroundColor')\r\n\t\t\t\t\t}\" @click=\"buyNow\">\r\n\t\t\t\t\t{{ buyNowText }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 页面内容结束 -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tvar vk; // vk依赖\r\n\tvar goodsCache = {}; // 本地商品缓存\r\n\texport default {\r\n\t\tname: 'vk-data-goods-sku-popup',\r\n\t\temits: ['update:modelValue', 'input', 'update-goods', 'open', 'close', 'add-cart', 'buy-now', 'cart', 'buy',\r\n\t\t\t'num-change'\r\n\t\t],\r\n\t\tprops: {\r\n\t\t\t// true 组件显示 false 组件隐藏\r\n\t\t\tvalue: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmodelValue: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// vk云函数路由模式参数开始-----------------------------------------------------------\r\n\t\t\t// 商品id\r\n\t\t\tgoodsId: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// vk路由模式框架下的云函数地址\r\n\t\t\taction: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// vk云函数路由模式参数结束-----------------------------------------------------------\r\n\t\t\t// 该商品已抢完时的按钮文字\r\n\t\t\tnoStockText: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '该商品已抢完'\r\n\t\t\t},\r\n\t\t\t// 库存文字\r\n\t\t\tstockText: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '库存'\r\n\t\t\t},\r\n\t\t\t// 商品表id的字段名\r\n\t\t\tgoodsIdName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '_id'\r\n\t\t\t},\r\n\t\t\t// sku表id的字段名\r\n\t\t\tskuIdName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '_id'\r\n\t\t\t},\r\n\t\t\t// sku_list的字段名\r\n\t\t\tskuListName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'sku_list'\r\n\t\t\t},\r\n\t\t\t// 是否是处方药的字段名\r\n\t\t\tisRxName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'false'\r\n\t\t\t},\r\n\t\t\t// spec_list的字段名\r\n\t\t\tspecListName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'spec_list'\r\n\t\t\t},\r\n\t\t\t// 库存的字段名 默认 stock\r\n\t\t\tstockName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'stock'\r\n\t\t\t},\r\n\t\t\t// sku组合路径的字段名\r\n\t\t\tskuArrName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'sku_name_arr'\r\n\t\t\t},\r\n\t\t\t// 默认单规格时的规格组名称\r\n\t\t\tdefaultSingleSkuName: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '默认'\r\n\t\t\t},\r\n\t\t\t// 模式 1:都显示  2:只显示购物车 3:只显示立即购买 4:显示缺货按钮 默认 1\r\n\t\t\tmode: {\r\n\t\t\t\tType: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\t// 点击遮罩是否关闭组件 true 关闭 false 不关闭 默认true\r\n\t\t\tmaskCloseAble: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 顶部圆角值\r\n\t\t\tborderRadius: {\r\n\t\t\t\tType: [String, Number],\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\t// 商品缩略图字段名(未选择sku时)\r\n\t\t\tgoodsThumbName: {\r\n\t\t\t\tType: [String],\r\n\t\t\t\tdefault: 'goods_thumb'\r\n\t\t\t},\r\n\t\t\t// 商品缩略图背景颜色，如#999999\r\n\t\t\tgoodsThumbBackgroundColor: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'transparent'\r\n\t\t\t},\r\n\t\t\t// 最小购买数量 默认 1\r\n\t\t\tminBuyNum: {\r\n\t\t\t\tType: [String, String],\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\t// 最大购买数量 默认 100000\r\n\t\t\tmaxBuyNum: {\r\n\t\t\t\tType: [String, String],\r\n\t\t\t\tdefault: 100000\r\n\t\t\t},\r\n\t\t\t// 步进器步长 默认 1\r\n\t\t\tstepBuyNum: {\r\n\t\t\t\tType: [Number, String],\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\t// 是否只能输入 step 的倍数\r\n\t\t\tstepStrictly: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// 自定义获取商品信息的函数,支付宝小程序不支持该属性,请使用localdata属性\r\n\t\t\tcustomAction: {\r\n\t\t\t\tType: [Function],\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\t// 本地数据源\r\n\t\t\tlocaldata: {\r\n\t\t\t\ttype: Object\r\n\t\t\t},\r\n\t\t\t// 价格的字体颜色\r\n\t\t\tpriceColor: {\r\n\t\t\t\tType: String\r\n\t\t\t},\r\n\t\t\t// 立即购买按钮的文字\r\n\t\t\tbuyNowText: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '提交需求'\r\n\t\t\t},\r\n\t\t\t// 立即购买按钮的字体颜色\r\n\t\t\tbuyNowColor: {\r\n\t\t\t\tType: String\r\n\t\t\t},\r\n\t\t\t// 立即购买按钮的背景颜色\r\n\t\t\tbuyNowBackgroundColor: {\r\n\t\t\t\tType: String\r\n\t\t\t},\r\n\t\t\t// 加入购物车按钮的文字\r\n\t\t\taddCartText: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '加入购物车'\r\n\t\t\t},\r\n\t\t\t// 加入购物车按钮的字体颜色\r\n\t\t\taddCartColor: {\r\n\t\t\t\tType: String\r\n\t\t\t},\r\n\t\t\t// 加入购物车按钮的背景颜色\r\n\t\t\taddCartBackgroundColor: {\r\n\t\t\t\tType: String\r\n\t\t\t},\r\n\t\t\t// 不可点击时,按钮的样式\r\n\t\t\tdisableStyle: {\r\n\t\t\t\tType: Object,\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\t// 按钮点击时的样式\r\n\t\t\tactivedStyle: {\r\n\t\t\t\tType: Object,\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\t// 按钮常态的样式\r\n\t\t\tbtnStyle: {\r\n\t\t\t\tType: Object,\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\t// 是否显示右上角关闭按钮\r\n\t\t\tshowClose: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 关闭按钮的图片地址 https://img.alicdn.com/imgextra/i1/121022687/O1CN01ImN0O11VigqwzpLiK_!!121022687.png\r\n\t\t\tcloseImage: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAEyUlEQVR42sSZeWwNURTGp4OqtBo7sSXELragdkpQsRRJ1Zr4hyJiJ9YgxNIg1qANiT+E1i5IY0kVVWtQEbuEKLFGUSH27/ANN5PXmTvzupzkl/tm8t6b7517lnvvC0lKSjJ8WmnQAUSDFqABqALKgl8gD7wE90E2SAeXwFf1SxISErQeVtKHwCgwFsSDSIf3hYFKoCkYDBaDdyAViHdueHmoF6FtwDLQ23b/E7gM7oIcejIERIDaoBFoC8qA8mA8SQNz6W1XC9GY+nCQCCYAk/c+gF0gBZwH312+IxR0BCPBUIaH2A+wHsxHCHxx+gLT5QGN6a2JfG8uvVCDws9oiDQYlxkMGfHyQvARlADTwcXk5OT6foV2kS8ATXidymlcyen1a/Jjl9IJh3hPkjELYqO8Cu0KjjNZvtETw5jFBWXPmGSTGQKSeOn5iQ0kVLL0CINfPNcPbDMKyRCbGzEMBJ+ZD8cChYFdqGTqfsWT8otPGoVsEHsMwxDFs3shNsxJ6BrQ0Po8OGUUkVHsNCVml+cntB1jUWwn2GEUsTEMrASbDK+2CCQ0kYX6nfLLisMmKqUr0S60M+jG10vAm+JSCa8+x7CKlzHwaktV6DiObzUzPJIxFO1BQ12wGtTReO9GetVgY/kjNJzZbcWmTjHfxw51AsRqvL8eOAtmsJuFu3g1l+1ZLB5eDTVZ3K0P7tL0TkWOpSg61kVkBtuuNRthGs+wtJST5aQI7cEbkkRXNYVKgX6kIdYuUhYzMQwxN8tiExCLFqHNeSF9/aem0BzGp5PYQCJ7c/Gsk1RfuSD6U1dNpcDf9ZigTmKbMRZ9iVTsHscGJluW2FMf1SSQWGnBmaB6kCJVTVVNJZE++Cx9drEllS1KMCINpURFmEbBWA63Fz9s95cGIdJgp/zXmT4pZcOvSUzuZttTbblmnc3PIjjmidDXvKgdhMh0JdbzuCjWrbNOVovjS5P7bkPJ/mBESkz2BO0166ybNeJ431S2q+01NntuIq3E0amzjiZtk9tssWyTDzO4525bACK9NAUn68TtkNhpEXpOSagRml+S6iLSSeweHv242Qhl13rRyvoDvDlKyTQny/ZQJ+1iH7vVbEx7OR5UiKVIO7VicgvHCtwrudloMIV7/0uadVYW57O4Wvvi8v4pymlKkrpwvsDeLLZAY2pkwbAB3PSQfC+4cH7l4k1ZH8zkZRq8ecO+Z5rN40JJqnXFuGfaxPCTLjcn0OZOpnArXw8HY4paIbw5CcMgXq6HN2/mt6+XGLrN15tBryIUGavMpCTrfKcDCKkAceA9S8nhAOehhSUyhXpkBxxnP4YM1InugP7cBkjBPcqVUWFYCEROxXiQz5JlXV+IfKh7mpfJac+lZ6V87QXVClBkTc7YWsWTPSDyitfzUTlJlj8TbvE6jluDOdwZ+jX57GLO3ADeuyZrDYi86vV81FD2UVGsmT+5Zl0BnkhoseOEaogL46pqO4v/IqUEyalIR4h85BgjHv6+aUWRMbb7EstX6O0cpT1Gco0ry8fWygLDMjmDnQeBt3Qe7uVfkeugDwVLcsVzGsuwLXbV+I63XNAkG5r/hvgRqgqWs6pJPKrsbvz/Q6yyun0w/h6lP+BnzrCpfPMT2L8FGAA7k1GZ/vnaqAAAAABJRU5ErkJggg=='\r\n\t\t\t},\r\n\t\t\t// 是否隐藏库存显示\r\n\t\t\thideStock: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 颜色主题\r\n\t\t\ttheme: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: 'default'\r\n\t\t\t},\r\n\t\t\t// 请求中的提示\r\n\t\t\tactionTips: {\r\n\t\t\t\tType: String,\r\n\t\t\t\tdefault: '请求中...'\r\n\t\t\t},\r\n\t\t\t// 默认选中的SKU\r\n\t\t\tdefaultSelect: {\r\n\t\t\t\tType: Object\r\n\t\t\t},\r\n\t\t\t// 是否使用缓存\r\n\t\t\tuseCache: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 默认商品,设置该值可快速展示商品\r\n\t\t\t * 逻辑: 先展示 defaultGoods 信息,再取数据库,再更新页面(通常为更新库存)\r\n\t\t\t */\r\n\t\t\tdefaultGoods: {\r\n\t\t\t\tType: Object\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 金额是否需要除以100\r\n\t\t\t * 1:金额会除以100\r\n\t\t\t * 0:金额不会除以100\r\n\t\t\t */\r\n\t\t\tamountType: {\r\n\t\t\t\tType: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\t// 每次选择完SKU后，购买数量归1，如果有最小购买数量，则设置为最小购买数量\r\n\t\t\tselectedInit: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// 是否开启底部安全区适配，默认true\r\n\t\t\tsafeAreaInsetBottom: {\r\n\t\t\t\tType: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcomplete: false, // 组件是否加载完成\r\n\t\t\t\tgoodsInfo: {}, // 商品信息\r\n\t\t\t\tisShow: false, // true 显示 false 隐藏\r\n\t\t\t\tinitKey: true, // 是否已初始化\r\n\t\t\t\tshopItemInfo: {}, // 存放要和选中的值进行匹配的数据\r\n\t\t\t\tselectArr: [], // 存放被选中的值\r\n\t\t\t\tsubIndex: [], // 是否选中 因为不确定是多规格还是单规格，所以这里定义数组来判断\r\n\t\t\t\tselectShop: {}, // 存放最后选中的商品\r\n\t\t\t\tselectNum: this.minBuyNum || 1, // 选中数量\r\n\t\t\t\tnote: \"\", //备注信息\r\n\t\t\t\toutFoStock: false, // 是否全部sku都缺货\r\n\t\t\t\topenTime: 0,\r\n\t\t\t\tthemeColor: {\r\n\t\t\t\t\t// 默认主题\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tpriceColor: 'rgb(254, 86, 10)',\r\n\t\t\t\t\t\tbuyNowColor: '#ffffff',\r\n\t\t\t\t\t\tbuyNowBackgroundColor: 'rgb(254, 86, 10)',\r\n\t\t\t\t\t\taddCartColor: '#ffffff',\r\n\t\t\t\t\t\taddCartBackgroundColor: 'rgb(255, 148, 2)',\r\n\t\t\t\t\t\tbtnStyle: {\r\n\t\t\t\t\t\t\tcolor: '#333333',\r\n\t\t\t\t\t\t\tborderColor: '#f4f4f4',\r\n\t\t\t\t\t\t\tbackgroundColor: '#ffffff'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tactivedStyle: {\r\n\t\t\t\t\t\t\tcolor: 'rgb(254, 86, 10)',\r\n\t\t\t\t\t\t\tborderColor: 'rgb(254, 86, 10)',\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(254,86,10,0.1)'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdisableStyle: {\r\n\t\t\t\t\t\t\tcolor: '#c3c3c3',\r\n\t\t\t\t\t\t\tborderColor: '#f6f6f6',\r\n\t\t\t\t\t\t\tbackgroundColor: '#f6f6f6'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 红黑主题\r\n\t\t\t\t\t'red-black': {\r\n\t\t\t\t\t\tpriceColor: 'rgb(255, 68, 68)',\r\n\t\t\t\t\t\tbuyNowColor: '#ffffff',\r\n\t\t\t\t\t\tbuyNowBackgroundColor: 'rgb(255, 68, 68)',\r\n\t\t\t\t\t\taddCartColor: '#ffffff',\r\n\t\t\t\t\t\taddCartBackgroundColor: 'rgb(85, 85, 85)',\r\n\t\t\t\t\t\tactivedStyle: {\r\n\t\t\t\t\t\t\tcolor: 'rgb(255, 68, 68)',\r\n\t\t\t\t\t\t\tborderColor: 'rgb(255, 68, 68)',\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(255,68,68,0.1)'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 黑白主题\r\n\t\t\t\t\t'black-white': {\r\n\t\t\t\t\t\tpriceColor: 'rgb(47, 47, 52)',\r\n\t\t\t\t\t\tbuyNowColor: '#ffffff',\r\n\t\t\t\t\t\tbuyNowBackgroundColor: 'rgb(47, 47, 52)',\r\n\t\t\t\t\t\taddCartColor: 'rgb(47, 47, 52)',\r\n\t\t\t\t\t\taddCartBackgroundColor: 'rgb(235, 236, 242)',\r\n\t\t\t\t\t\t// btnStyle:{\r\n\t\t\t\t\t\t// \tcolor:\"rgb(47, 47, 52)\",\r\n\t\t\t\t\t\t// \tborderColor:\"rgba(235,236,242,0.5)\",\r\n\t\t\t\t\t\t// \tbackgroundColor:\"rgba(235,236,242,0.5)\",\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\tactivedStyle: {\r\n\t\t\t\t\t\t\tcolor: 'rgb(47, 47, 52)',\r\n\t\t\t\t\t\t\tborderColor: 'rgba(47,47,52,0.12)',\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(47,47,52,0.12)'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 咖啡色主题\r\n\t\t\t\t\tcoffee: {\r\n\t\t\t\t\t\tpriceColor: 'rgb(195, 167, 105)',\r\n\t\t\t\t\t\tbuyNowColor: '#ffffff',\r\n\t\t\t\t\t\tbuyNowBackgroundColor: 'rgb(195, 167, 105)',\r\n\t\t\t\t\t\taddCartColor: 'rgb(195, 167, 105)',\r\n\t\t\t\t\t\taddCartBackgroundColor: 'rgb(243, 238, 225)',\r\n\t\t\t\t\t\tactivedStyle: {\r\n\t\t\t\t\t\t\tcolor: 'rgb(195, 167, 105)',\r\n\t\t\t\t\t\t\tborderColor: 'rgb(195, 167, 105)',\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(195, 167, 105,0.1)'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 浅绿色主题\r\n\t\t\t\t\tgreen: {\r\n\t\t\t\t\t\tpriceColor: 'rgb(99, 190, 114)',\r\n\t\t\t\t\t\tbuyNowColor: '#ffffff',\r\n\t\t\t\t\t\tbuyNowBackgroundColor: 'rgb(99, 190, 114)',\r\n\t\t\t\t\t\taddCartColor: 'rgb(99, 190, 114)',\r\n\t\t\t\t\t\taddCartBackgroundColor: 'rgb(225, 244, 227)',\r\n\t\t\t\t\t\tactivedStyle: {\r\n\t\t\t\t\t\t\tcolor: 'rgb(99, 190, 114)',\r\n\t\t\t\t\t\t\tborderColor: 'rgb(99, 190, 114)',\r\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(99, 190, 114,0.1)'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet that = this;\r\n\t\t\tvk = that.vk;\r\n\t\t\tif (that.valueCom) {\r\n\t\t\t\tthat.open();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {},\r\n\t\tmethods: {\r\n\t\t\t// 初始化\r\n\t\t\tinit(notAutoClick) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t// 清空之前的数据\r\n\t\t\t\tthat.selectArr = [];\r\n\t\t\t\tthat.subIndex = [];\r\n\t\t\t\tthat.selectShop = {};\r\n\t\t\t\tthat.selectNum = that.minBuyNum || 1;\r\n\t\t\t\tthat.outFoStock = false;\r\n\t\t\t\tthat.shopItemInfo = {};\r\n\t\t\t\tlet specListName = that.specListName;\r\n\t\t\t\tthat.goodsInfo[specListName].map(item => {\r\n\t\t\t\t\tthat.selectArr.push('');\r\n\t\t\t\t\tthat.subIndex.push(-1);\r\n\t\t\t\t});\r\n\t\t\t\tthat.checkItem(); // 计算sku里面规格形成路径\r\n\t\t\t\tthat.checkInpath(-1); // 传-1是为了不跳过循环\r\n\t\t\t\tif (!notAutoClick) that.autoClickSku(); // 自动选择sku策略\r\n\t\t\t},\r\n\t\t\t// 使用vk路由模式框架获取商品信息\r\n\t\t\tfindGoodsInfo(obj = {}) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tuseCache\r\n\t\t\t\t} = obj;\r\n\t\t\t\tif (typeof vk == 'undefined') {\r\n\t\t\t\t\tthat.toast('custom-action必须是function', 'none');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tactionTips\r\n\t\t\t\t} = that;\r\n\t\t\t\tlet actionTitle = '';\r\n\t\t\t\tlet actionAoading = false;\r\n\t\t\t\tif (actionTips !== 'custom') {\r\n\t\t\t\t\tactionTitle = useCache ? '' : '请求中...';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tactionAoading = useCache ? false : true;\r\n\t\t\t\t}\r\n\t\t\t\tvk.callFunction({\r\n\t\t\t\t\turl: that.action,\r\n\t\t\t\t\ttitle: actionTitle,\r\n\t\t\t\t\tloading: actionAoading,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tgoods_id: that.goodsId\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(data) {\r\n\t\t\t\t\t\tthat.updateGoodsInfo(data.goodsInfo);\r\n\t\t\t\t\t\t// 更新缓存\r\n\t\t\t\t\t\tgoodsCache[that.goodsId] = data.goodsInfo;\r\n\t\t\t\t\t\tthat.$emit('update-goods', data.goodsInfo);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tthat.updateValue(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateValue(value) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthat.$emit('open', true);\r\n\t\t\t\t\tthat.$emit('input', true);\r\n\t\t\t\t\tthat.$emit('update:modelValue', true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.$emit('input', false);\r\n\t\t\t\t\tthat.$emit('close', 'close');\r\n\t\t\t\t\tthat.$emit('update:modelValue', false);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 更新商品信息(库存、名称、图片)\r\n\t\t\tupdateGoodsInfo(goodsInfo) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t// goodsInfo.sku_list.map((item, index) => {\r\n\t\t\t\t// \titem.sku_name_arr = [\"20ml/瓶\"];\r\n\t\t\t\t// });\r\n\t\t\t\tlet {\r\n\t\t\t\t\tskuListName\r\n\t\t\t\t} = that;\r\n\t\t\t\tif (JSON.stringify(that.goodsInfo) === '{}' || that.goodsInfo[that.goodsIdName] !== goodsInfo[that\r\n\t\t\t\t\t\t.goodsIdName]) {\r\n\t\t\t\t\tthat.goodsInfo = goodsInfo;\r\n\t\t\t\t\tthat.initKey = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.goodsInfo[skuListName] = goodsInfo[skuListName];\r\n\t\t\t\t}\r\n\t\t\t\tif (that.initKey) {\r\n\t\t\t\t\tthat.initKey = false;\r\n\t\t\t\t\tthat.init();\r\n\t\t\t\t}\r\n\t\t\t\t// 更新选中sku的库存信息\r\n\t\t\t\tlet select_sku_info = that.getListItem(that.goodsInfo[skuListName], that.skuIdName, that.selectShop[that\r\n\t\t\t\t\t.skuIdName]);\r\n\t\t\t\tObject.assign(that.selectShop, select_sku_info);\r\n\t\t\t\tthat.defaultSelectSku();\r\n\t\t\t\tthat.complete = true;\r\n\t\t\t},\r\n\t\t\tasync open() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.openTime = new Date().getTime();\r\n\t\t\t\tlet findGoodsInfoRun = true;\r\n\t\t\t\tlet skuListName = that.skuListName;\r\n\t\t\t\t// 先获取缓存中的商品信息\r\n\t\t\t\tlet useCache = false;\r\n\t\t\t\tlet goodsInfo = goodsCache[that.goodsId];\r\n\t\t\t\tif (goodsInfo && that.useCache) {\r\n\t\t\t\t\tuseCache = true;\r\n\t\t\t\t\tthat.updateGoodsInfo(goodsInfo);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.complete = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (that.customAction && typeof that.customAction === 'function') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tgoodsInfo = await that\r\n\t\t\t\t\t\t\t.customAction({\r\n\t\t\t\t\t\t\t\tuseCache,\r\n\t\t\t\t\t\t\t\tgoodsId: that.goodsId,\r\n\t\t\t\t\t\t\t\tgoodsInfo,\r\n\t\t\t\t\t\t\t\tclose: function() {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\tthat.close();\r\n\t\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tthat.close();\r\n\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tmessage = ''\r\n\t\t\t\t\t\t} = err;\r\n\t\t\t\t\t\tif (message.indexOf('.catch is not a function') > -1) {\r\n\t\t\t\t\t\t\tthat.toast('custom-action必须返回一个Promise', 'none');\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.close();\r\n\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 更新缓存\r\n\t\t\t\t\tgoodsCache[that.goodsId] = goodsInfo;\r\n\t\t\t\t\tif (goodsInfo && typeof goodsInfo == 'object' && JSON.stringify(goodsInfo) != '{}') {\r\n\t\t\t\t\t\tfindGoodsInfoRun = false;\r\n\t\t\t\t\t\tthat.updateGoodsInfo(goodsInfo);\r\n\t\t\t\t\t\tthat.updateValue(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.toast('未获取到商品信息', 'none');\r\n\t\t\t\t\t\tthat.$emit('input', false);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (typeof that.localdata !== 'undefined' && that.localdata !== null) {\r\n\t\t\t\t\tgoodsInfo = that.localdata;\r\n\t\t\t\t\tif (goodsInfo && typeof goodsInfo == 'object' && JSON.stringify(goodsInfo) != '{}') {\r\n\t\t\t\t\t\tfindGoodsInfoRun = false;\r\n\t\t\t\t\t\tthat.updateGoodsInfo(goodsInfo);\r\n\t\t\t\t\t\tthat.updateValue(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.toast('未获取到商品信息', 'none');\r\n\t\t\t\t\t\tthat.$emit('input', false);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (findGoodsInfoRun) that.findGoodsInfo({\r\n\t\t\t\t\t\tuseCache\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 监听 - 弹出层收起\r\n\t\t\tclose(s) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (new Date().getTime() - that.openTime < 400) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (s == 'mask') {\r\n\t\t\t\t\tif (that.maskCloseAble !== false) {\r\n\t\t\t\t\t\tthat.$emit('input', false);\r\n\t\t\t\t\t\tthat.$emit('close', 'mask');\r\n\t\t\t\t\t\tthat.$emit('update:modelValue', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.$emit('input', false);\r\n\t\t\t\t\tthat.$emit('close', 'close');\r\n\t\t\t\t\tthat.$emit('update:modelValue', false);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmoveHandle() {\r\n\t\t\t\t//禁止父元素滑动\r\n\t\t\t},\r\n\t\t\t// sku按钮的点击事件\r\n\t\t\tskuClick(value, index1, index2) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (value.ishow) {\r\n\t\t\t\t\tif (that.selectArr[index1] != value.name) {\r\n\t\t\t\t\t\tthat.$set(that.selectArr, index1, value.name);\r\n\t\t\t\t\t\tthat.$set(that.subIndex, index1, index2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.$set(that.selectArr, index1, '');\r\n\t\t\t\t\t\tthat.$set(that.subIndex, index1, -1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.checkInpath(index1);\r\n\t\t\t\t\t// 如果全部选完\r\n\t\t\t\t\tthat.checkSelectShop();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 检测是否已经选完sku\r\n\t\t\tcheckSelectShop() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t// 如果全部选完\r\n\t\t\t\tif (that.selectArr.every(item => item != '')) {\r\n\t\t\t\t\tthat.selectShop = that.shopItemInfo[that.getArrayToSting(that.selectArr)];\r\n\t\t\t\t\t// let stock = that.selectShop[that.stockName];\r\n\t\t\t\t\t// if (typeof stock !== 'undefined' && that.selectNum > stock) {\r\n\t\t\t\t\t// \tthat.selectNum = stock;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (that.selectNum > that.maxBuyNum) {\r\n\t\t\t\t\t\tthat.selectNum = that.maxBuyNum;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if (that.selectNum < that.minBuyNum) {\r\n\t\t\t\t\t// \tthat.selectNum = that.minBuyNum;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (that.selectedInit) {\r\n\t\t\t\t\t// \tthat.selectNum = that.minBuyNum || 1;\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.selectShop = {};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 检查路径\r\n\t\t\tcheckInpath(clickIndex) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet specListName = that.specListName;\r\n\t\t\t\t//console.time('筛选可选路径需要的时间是');\r\n\t\t\t\t//循环所有属性判断哪些属性可选\r\n\t\t\t\t//当前选中的兄弟节点和已选中属性不需要循环\r\n\t\t\t\tlet specList = that.goodsInfo[specListName];\r\n\t\t\t\tfor (let i = 0, len = specList.length; i < len; i++) {\r\n\t\t\t\t\tif (i == clickIndex) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet len2 = specList[i].list.length;\r\n\t\t\t\t\tfor (let j = 0; j < len2; j++) {\r\n\t\t\t\t\t\tif (that.subIndex[i] != -1 && j == that.subIndex[i]) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet choosed_copy = [...that.selectArr];\r\n\t\t\t\t\t\tthat.$set(choosed_copy, i, specList[i].list[j].name);\r\n\t\t\t\t\t\tlet choosed_copy2 = choosed_copy.filter(item => item !== '' && typeof item !== 'undefined');\r\n\t\t\t\t\t\tif (that.shopItemInfo.hasOwnProperty(that.getArrayToSting(choosed_copy2))) {\r\n\t\t\t\t\t\t\tspecList[i].list[j].ishow = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tspecList[i].list[j].ishow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.$set(that.goodsInfo, specListName, specList);\r\n\t\t\t\t// console.timeEnd('筛选可选路径需要的时间是');\r\n\t\t\t},\r\n\t\t\t// 计算sku里面规格形成路径\r\n\t\t\tcheckItem() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t// console.time('计算有多小种可选路径需要的时间是');\r\n\t\t\t\tlet {\r\n\t\t\t\t\tstockName\r\n\t\t\t\t} = that;\r\n\t\t\t\tlet skuListName = that.skuListName;\r\n\t\t\t\t// 去除库存小于等于0的商品sku\r\n\t\t\t\tlet originalSkuList = that.goodsInfo[skuListName];\r\n\t\t\t\tlet skuList = [];\r\n\t\t\t\tlet stockNum = 0;\r\n\t\t\t\toriginalSkuList.map((skuItem, index) => {\r\n\t\t\t\t\t//\r\n\t\t\t\t\tskuList.push(skuItem);\r\n\t\t\t\t\tstockNum += skuItem[stockName];\r\n\t\t\t\t\t//}\r\n\t\t\t\t});\r\n\t\t\t\t//if (stockNum <= 0) {\r\n\t\t\t\t//\tthat.outFoStock = true;\r\n\t\t\t\t//}\r\n\t\t\t\t// 计算有多小种可选路径\r\n\t\t\t\tlet result = skuList.reduce(\r\n\t\t\t\t\t(arrs, items) => {\r\n\t\t\t\t\t\treturn arrs.concat(\r\n\t\t\t\t\t\t\titems[that.skuArrName].reduce(\r\n\t\t\t\t\t\t\t\t(arr, item) => {\r\n\t\t\t\t\t\t\t\t\treturn arr.concat(\r\n\t\t\t\t\t\t\t\t\t\tarr.map(item2 => {\r\n\t\t\t\t\t\t\t\t\t\t\t// 利用对象属性的唯一性实现二维数组去重\r\n\t\t\t\t\t\t\t\t\t\t\t//console.log(1,that.shopItemInfo,that.getArrayToSting([...item2, item]),item2,item,items);\r\n\t\t\t\t\t\t\t\t\t\t\tif (!that.shopItemInfo.hasOwnProperty(that.getArrayToSting([...\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem2, item\r\n\t\t\t\t\t\t\t\t\t\t\t\t]))) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.shopItemInfo[that.getArrayToSting([...item2, item])] =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn [...item2, item];\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t[]\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t[]\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t\t// console.timeEnd('计算有多小种可选路径需要的时间是');\r\n\t\t\t},\r\n\t\t\tgetArrayToSting(arr) {\r\n\t\t\t\tlet str = '';\r\n\t\t\t\tarr.map((item, index) => {\r\n\t\t\t\t\titem = item.replace(/\\./g, '。');\r\n\t\t\t\t\tif (index == 0) {\r\n\t\t\t\t\t\tstr += item;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstr += ',' + item;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t// 检测sku选项是否已全部选完,且有库存\r\n\t\t\tcheckSelectComplete(obj = {}) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet clickTime = new Date().getTime();\r\n\t\t\t\tif (that.clickTime && clickTime - that.clickTime < 400) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.clickTime = clickTime;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tselectShop,\r\n\t\t\t\t\tselectNum,\r\n\t\t\t\t\tstockText,\r\n\t\t\t\t\tstockName\r\n\t\t\t\t} = that;\r\n\t\t\t\tif (!selectShop || !selectShop[that.skuIdName]) {\r\n\t\t\t\t\tthat.toast('请先选择对应\"门店\"和\"规格\"', 'none');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t//if (selectNum <= 0) {\r\n\t\t\t\t//\tthat.toast('购买数量必须>0', 'none');\r\n\t\t\t\t//\treturn false;\r\n\t\t\t\t//}\r\n\t\t\t\t// 判断库存\r\n\t\t\t\t// if (selectNum > selectShop[stockName]) {\r\n\t\t\t\t// \tthat.toast(stockText + '不足', 'none');\r\n\t\t\t\t// \treturn false;\r\n\t\t\t\t// }\r\n\t\t\t\tif (typeof obj.success == 'function') obj.success(selectShop);\r\n\t\t\t},\r\n\t\t\t// 加入购物车\r\n\t\t\taddCart() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.checkSelectComplete({\r\n\t\t\t\t\tsuccess: function(selectShop) {\r\n\t\t\t\t\t\tselectShop.buy_num = that.selectNum;\r\n\t\t\t\t\t\tthat.$emit('add-cart', selectShop);\r\n\t\t\t\t\t\tthat.$emit('cart', selectShop);\r\n\t\t\t\t\t\t// setTimeout(function() {\r\n\t\t\t\t\t\t// \tthat.init();\r\n\t\t\t\t\t\t// }, 300);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 立即购买\r\n\t\t\tbuyNow() {\r\n\t\t\t\t//将note添加到selectShop中\r\n\t\t\t\tthis.$set(this.selectShop, 'note', this.note)\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.checkSelectComplete({\r\n\t\t\t\t\tsuccess: function(selectShop) {\r\n\t\t\t\t\t\tconsole.log(selectShop)\r\n\t\t\t\t\t\tselectShop.buy_num = that.selectNum;\r\n\t\t\t\t\t\tthat.$emit('buy-now', selectShop);\r\n\t\t\t\t\t\tthat.$emit('buy', selectShop);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 弹窗\r\n\t\t\ttoast(title, icon) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ticon: icon\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取对象数组中的某一个item,根据指定的键值\r\n\t\t\tgetListItem(list, key, value) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet item;\r\n\t\t\t\tfor (let i in list) {\r\n\t\t\t\t\tif (typeof value == 'object') {\r\n\t\t\t\t\t\tif (JSON.stringify(list[i][key]) === JSON.stringify(value)) {\r\n\t\t\t\t\t\t\titem = list[i];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (list[i][key] === value) {\r\n\t\t\t\t\t\t\titem = list[i];\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t},\r\n\t\t\tgetListIndex(list, key, value) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet index = -1;\r\n\t\t\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\t\t\tif (list[i][key] === value) {\r\n\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn index;\r\n\t\t\t},\r\n\t\t\t// 自动选择sku前提是只有一组sku,默认自动选择最前面的有库存的sku\r\n\t\t\tautoClickSku() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tstockName\r\n\t\t\t\t} = that;\r\n\t\t\t\tlet skuList = that.goodsInfo[that.skuListName];\r\n\t\t\t\tlet specListArr = that.goodsInfo[that.specListName];\r\n\t\t\t\t//if (specListArr.length == 1) {\r\n\t\t\t\tlet specList = specListArr[0].list;\r\n\t\t\t\tfor (let i = 0; i < specList.length; i++) {\r\n\t\t\t\t\t//let sku = that.getListItem(skuList, that.skuArrName, [specList[i].name]);\r\n\t\t\t\t\t// console.log(sku);\r\n\t\t\t\t\t// console.log(sku[stockName]);     \r\n\t\t\t\t\t//if (sku && sku[stockName] > 0) {\r\n\t\t\t\t\tthat.skuClick(specList[i], 0, i);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t//}\r\n\t\t\t\t\t//\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 主题颜色\r\n\t\t\tthemeColorFn(name) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\ttheme,\r\n\t\t\t\t\tthemeColor\r\n\t\t\t\t} = that;\r\n\t\t\t\tlet color = that[name] ? that[name] : themeColor[theme][name];\r\n\t\t\t\treturn color;\r\n\t\t\t},\r\n\t\t\tdefaultSelectSku() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdefaultSelect\r\n\t\t\t\t} = that;\r\n\t\t\t\tif (defaultSelect && defaultSelect.sku && defaultSelect.sku.length > 0) {\r\n\t\t\t\t\tthat.selectSku(defaultSelect);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t\t * 主动方法 - 设置sku\r\n\t\t\t\tthat.$refs.skuPopup.selectSku({\r\n\t\t\t\t\tsku:[\"红色\",\"256G\",\"公开版\"],\r\n\t\t\t\t\tnum:5\r\n\t\t\t\t});\r\n\t\t\t\t */\r\n\t\t\tselectSku(obj = {}) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tsku: skuArr,\r\n\t\t\t\t\tnum: selectNum\r\n\t\t\t\t} = obj;\r\n\t\t\t\tlet specListArr = that.goodsInfo[that.specListName];\r\n\t\t\t\tif (skuArr && specListArr.length === skuArr.length) {\r\n\t\t\t\t\t// 先清空\r\n\t\t\t\t\tlet skuClickArr = [];\r\n\t\t\t\t\tlet clickKey = true;\r\n\t\t\t\t\tfor (let index = 0; index < skuArr.length; index++) {\r\n\t\t\t\t\t\tlet skuName = skuArr[index];\r\n\t\t\t\t\t\tlet specList = specListArr[index].list;\r\n\t\t\t\t\t\tlet index1 = index;\r\n\t\t\t\t\t\tlet index2 = that.getListIndex(specList, 'name', skuName);\r\n\t\t\t\t\t\tif (index2 == -1) {\r\n\t\t\t\t\t\t\tclickKey = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tskuClickArr.push({\r\n\t\t\t\t\t\t\tspec: specList[index2],\r\n\t\t\t\t\t\t\tindex1: index1,\r\n\t\t\t\t\t\t\tindex2: index2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clickKey) {\r\n\t\t\t\t\t\tthat.init(true);\r\n\t\t\t\t\t\tskuClickArr.map(item => {\r\n\t\t\t\t\t\t\tthat.skuClick(item.spec, item.index1, item.index2);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (selectNum > 0) that.selectNum = selectNum;\r\n\t\t\t},\r\n\t\t\tpriceFilter(n = 0) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (typeof n == 'string') {\r\n\t\t\t\t\t//console.log('字符串')\r\n\t\t\t\t\treturn n;\r\n\t\t\t\t} else if (that.amountType === 0) {\r\n\t\t\t\t\treturn n.toFixed(2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn (n / 100).toFixed(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpushGoodsCache(goodsInfo) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tgoodsIdName\r\n\t\t\t\t} = that;\r\n\t\t\t\tgoodsCache[goodsInfo[goodsIdName]] = goodsInfo;\r\n\t\t\t},\r\n\t\t\t// 用于阻止冒泡\r\n\t\t\tstop() {},\r\n\t\t\t// 图片预览\r\n\t\t\tpreviewImage() {\r\n\t\t\t\tif(this.goodsInfo.isRx=='true'){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tselectShop,\r\n\t\t\t\t\tgoodsInfo,\r\n\t\t\t\t\tgoodsThumbName\r\n\t\t\t\t} = that;\r\n\t\t\t\tlet src = selectShop.image ? selectShop.image : goodsInfo[goodsThumbName];\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\tuni.previewImage({\r\n\t\t\t\t\t\turls: [src]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetMaxStock() {\r\n\t\t\t\tlet maxStock = 0;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tselectShop = {}, goodsInfo = {}, skuListName, stockName\r\n\t\t\t\t} = that;\r\n\t\t\t\tif (selectShop[stockName]) {\r\n\t\t\t\t\tmaxStock = selectShop[stockName];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet skuList = goodsInfo[skuListName];\r\n\t\t\t\t\tif (skuList && skuList.length > 0) {\r\n\t\t\t\t\t\tlet valueArr = [];\r\n\t\t\t\t\t\tskuList.map((skuItem, index) => {\r\n\t\t\t\t\t\t\tvalueArr.push(skuItem[stockName]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet max = Math.max(...valueArr);\r\n\t\t\t\t\t\tmaxStock = 10000;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn maxStock;\r\n\t\t\t},\r\n\t\t\tnumChange(e) {\r\n\t\t\t\tthis.$emit(\"num-change\", e.value);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 计算属性\r\n\t\tcomputed: {\r\n\t\t\tvalueCom() {\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\treturn this.value;\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\treturn this.modelValue;\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t// 最大购买数量\r\n\t\t\tmaxBuyNumCom() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet maxStock = that.getMaxStock();\r\n\t\t\t\tlet max = that.maxBuyNum;\r\n\t\t\t\t// 最大购买量不能超过当前商品的库存\r\n\t\t\t\tif (max > maxStock) {\r\n\t\t\t\t\tmax = maxStock;\r\n\t\t\t\t}\r\n\t\t\t\treturn max;\r\n\t\t\t},\r\n\t\t\t// 是否是多规格\r\n\t\t\tisManyCom() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tgoodsInfo,\r\n\t\t\t\t\tdefaultSingleSkuName,\r\n\t\t\t\t\tspecListName\r\n\t\t\t\t} = that;\r\n\t\t\t\tlet isMany = true;\r\n\t\t\t\tif (\r\n\t\t\t\t\tgoodsInfo[specListName] &&\r\n\t\t\t\t\tgoodsInfo[specListName].length === 1 &&\r\n\t\t\t\t\tgoodsInfo[specListName][0].list.length === 1 &&\r\n\t\t\t\t\tgoodsInfo[specListName][0].name === defaultSingleSkuName\r\n\t\t\t\t) {\r\n\t\t\t\t\tisMany = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn isMany;\r\n\t\t\t},\r\n\t\t\t// 默认价格区间计算\r\n\t\t\tpriceCom() {\r\n\t\t\t\tlet str = '';\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tselectShop = {}, goodsInfo = {}, skuListName, skuIdName\r\n\t\t\t\t} = that;\r\n\t\t\t\tif (selectShop[skuIdName]) {\r\n\t\t\t\t\tstr = that.priceFilter(selectShop.price);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet skuList = goodsInfo[skuListName];\r\n\t\t\t\t\tif (skuList && skuList.length > 0) {\r\n\t\t\t\t\t\tlet valueArr = [];\r\n\t\t\t\t\t\tskuList.map((skuItem, index) => {\r\n\t\t\t\t\t\t\tvalueArr.push(skuItem.price);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet min = that.priceFilter(...valueArr);\r\n\t\t\t\t\t\tlet max = that.priceFilter(...valueArr);\r\n\t\t\t\t\t\tif (min === max) {\r\n\t\t\t\t\t\t\tstr = min + '';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tstr = `${min} - ${max}`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t},\r\n\t\t\t// 库存显示\r\n\t\t\tstockCom() {\r\n\t\t\t\tlet str = '';\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tselectShop = {}, goodsInfo = {}, skuListName, stockName\r\n\t\t\t\t} = that;\r\n\t\t\t\tif (selectShop[stockName]) {\r\n\t\t\t\t\tstr = selectShop[stockName];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet skuList = goodsInfo[skuListName];\r\n\t\t\t\t\tif (skuList && skuList.length > 0) {\r\n\t\t\t\t\t\tlet valueArr = [];\r\n\t\t\t\t\t\tskuList.map((skuItem, index) => {\r\n\t\t\t\t\t\t\tvalueArr.push(skuItem[stockName]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tstr = valueArr\r\n\t\t\t\t\t\t//let min = Math.min(...valueArr);\r\n\t\t\t\t\t\t//let max = Math.max(...valueArr);\r\n\t\t\t\t\t\t//if (min === max) {\r\n\t\t\t\t\t\t//\tstr = min;\r\n\t\t\t\t\t\t//} else {\r\n\t\t\t\t\t\t//\tstr = `${min} - ${max}`;\r\n\t\t\t\t\t\t//}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tvalueCom(newVal, oldValue) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (newVal) {\r\n\t\t\t\t\tthat.open();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdefaultGoods: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler: function(newVal, oldValue) {\r\n\t\t\t\t\tlet that = this;\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tgoodsIdName\r\n\t\t\t\t\t} = that;\r\n\t\t\t\t\tif (typeof newVal === 'object' && newVal && newVal[goodsIdName] && !goodsCache[newVal[\r\n\t\t\t\t\t\t\tgoodsIdName]]) {\r\n\t\t\t\t\t\tthat.pushGoodsCache(newVal);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t/*  sku弹出层 */\r\n\t.vk-data-goods-sku-popup {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 990;\r\n\t\toverflow: hidden;\r\n\r\n\t\t&.show {\r\n\t\t\tdisplay: block;\r\n\r\n\t\t\t.mask {\r\n\t\t\t\tanimation: showPopup 0.2s linear both;\r\n\t\t\t}\r\n\r\n\t\t\t.layer {\r\n\t\t\t\tanimation: showLayer 0.2s linear both;\r\n\t\t\t\tbottom: var(--window-bottom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.hide {\r\n\t\t\t.mask {\r\n\t\t\t\tanimation: hidePopup 0.2s linear both;\r\n\t\t\t}\r\n\r\n\t\t\t.layer {\r\n\t\t\t\tanimation: hideLayer 0.2s linear both;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.none {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.mask {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tz-index: 1;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\t}\r\n\r\n\t\t.layer {\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: 100%;\r\n\t\t\t// height: 1014rpx;\r\n\t\t\tflex-direction: column;\r\n\t\t\t// min-height: 40vh;\r\n\t\t\t// max-height: 1014rpx;\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 99;\r\n\t\t\tbottom: 0;\r\n\t\t\tborder-radius: 10rpx 10rpx 0 0;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t.specification-wrapper {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 30rpx 25rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t.specification-wrapper-content {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tmax-height: 900rpx;\r\n\t\t\t\t\tmin-height: 300rpx;\r\n\r\n\t\t\t\t\t&::-webkit-scrollbar {\r\n\t\t\t\t\t\t/*隐藏滚轮*/\r\n\t\t\t\t\t\tdisplay: none;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.specification-header {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\tmargin-bottom: 40rpx;\r\n\r\n\t\t\t\t\t\t.specification-left {\r\n\t\t\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t\t\tflex: 0 0 180rpx;\r\n\r\n\t\t\t\t\t\t\t.product-img {\r\n\t\t\t\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\t\t\t\theight: 180rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.specification-right {\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\tpadding: 0 35rpx 0 28rpx;\r\n\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t\t\t\t\t.goodsname {\r\n\t\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 16px;\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t.price-content {\r\n\t\t\t\t\t\t\t\tcolor: #fe560a;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t\t\t\t\t.sign {\r\n\t\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.price {\r\n\t\t\t\t\t\t\t\t\tmargin-left: 4rpx;\r\n\t\t\t\t\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.price2 {\r\n\t\t\t\t\t\t\t\t\tmargin-left: 4rpx;\r\n\t\t\t\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.inventory {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 14rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.choose {\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.specification-content {\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t\t\t\t.specification-item {\r\n\t\t\t\t\t\t\tmargin-bottom: 40rpx;\r\n\r\n\t\t\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\t\t\tmargin-bottom: 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.item-title {\r\n\t\t\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.item-wrapper {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\tflex-direction: row;\r\n\t\t\t\t\t\t\t\tflex-flow: wrap;\r\n\r\n\t\t\t\t\t\t\t\t.item-content {\r\n\t\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\t\tpadding: 10rpx 35rpx;\r\n\t\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\t\t\t\tbackground-color: #ffffff;\r\n\t\t\t\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\t\t\t\t\tborder: 1px solid #f4f4f4;\r\n\t\t\t\t\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t\t\t\t\t&.actived {\r\n\t\t\t\t\t\t\t\t\t\tborder-color: #fe560a;\r\n\t\t\t\t\t\t\t\t\t\tcolor: #fe560a;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t&.noactived {\r\n\t\t\t\t\t\t\t\t\t\tbackground-color: #f6f6f6;\r\n\t\t\t\t\t\t\t\t\t\tborder-color: #f6f6f6;\r\n\t\t\t\t\t\t\t\t\t\tcolor: #c3c3c3;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.number-box-view {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tpadding-top: 30rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.close {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 30rpx;\r\n\t\t\t\t\tright: 25rpx;\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tline-height: 50rpx;\r\n\r\n\t\t\t\t\t.close-item {\r\n\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.btn-wrapper {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tflex: 0 0 120rpx;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tpadding: 0 26rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t.layer-btn {\r\n\t\t\t\t\twidth: 335rpx;\r\n\t\t\t\t\theight: 76rpx;\r\n\t\t\t\t\tborder-radius: 38rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tline-height: 76rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t\t\t&.add-cart {\r\n\t\t\t\t\t\tbackground: #ffbe46;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.buy {\r\n\t\t\t\t\t\tbackground: #fe560a;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.sure {\r\n\t\t\t\t\twidth: 698rpx;\r\n\t\t\t\t\theight: 68rpx;\r\n\t\t\t\t\tborder-radius: 38rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tline-height: 68rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tbackground: #fe560a;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.sure.add-cart {\r\n\t\t\t\t\tbackground: #ff9402;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.btn-wrapper.safe-area-inset-bottom {\r\n\t\t\t\tpadding-bottom: 0;\r\n\t\t\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\t\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@keyframes showPopup {\r\n\t\t\t0% {\r\n\t\t\t\topacity: 0;\r\n\t\t\t}\r\n\r\n\t\t\t100% {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@keyframes hidePopup {\r\n\t\t\t0% {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t100% {\r\n\t\t\t\topacity: 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@keyframes showLayer {\r\n\t\t\t0% {\r\n\t\t\t\ttransform: translateY(120%);\r\n\t\t\t}\r\n\r\n\t\t\t100% {\r\n\t\t\t\ttransform: translateY(0%);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@keyframes hideLayer {\r\n\t\t\t0% {\r\n\t\t\t\ttransform: translateY(0);\r\n\t\t\t}\r\n\r\n\t\t\t100% {\r\n\t\t\t\ttransform: translateY(120%);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./vk-data-goods-sku-popup.vue?vue&type=style&index=0&id=1d216e7a&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./vk-data-goods-sku-popup.vue?vue&type=style&index=0&id=1d216e7a&lang=scss&scoped=true&\""],"sourceRoot":""}
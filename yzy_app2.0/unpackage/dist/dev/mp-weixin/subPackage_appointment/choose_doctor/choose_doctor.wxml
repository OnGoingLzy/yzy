<view><view class="date-container"><block wx:for="{{sevenDays}}" wx:for-item="day" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectDay',[index]]]]]}}" class="{{['date-item',(selectedIndex===index)?'selected':'']}}" bindtap="__e"><view><text class="day">{{day.day}}</text></view><view><text class="date">{{day.date}}</text></view></view></block></view><block wx:for="{{filterDoctor}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['openChooseSchedule',['$0'],[[['filterDoctor','',i]]]]]]]}}" class="doctor-card" bindtap="__e"><view style="align-items:center;display:flex;justify-content:center;"><image class="avatar" src="/static/icon/avatar.png"></image></view><view style="margin-left:10px;"><view><text>{{item.name}}</text></view><view><text style="font-size:11px;color:gray;">{{item.position}}</text></view><view><text style="font-size:12px;color:gray;">{{'擅长：'+item.note}}</text></view></view><view style="margin-left:auto;"><view><view class="{{[item.remainedNum>=0?'tag1':'tag2']}}"><text>{{item.remainedNum>=0?'可预约':'暂无号'}}</text></view></view></view></view></block><block wx:if="{{$root.g0==0}}"><view style="text-align:center;"><view>没有可预约挂号的医生</view><image style="width:50vw;height:50vw;padding:100rpx 0 120rpx 0;" src="../../static/img/empty3.svg"></image></view></block><uni-popup class="vue-ref" vue-id="7baef1c2-1" type="right" background-color="#fff" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view><view style="text-align:center;font-weight:bold;">{{''+(selectedDate+' '+clickDoctor.name+' '+clickDoctor.position)+''}}</view><view style="text-align:center;width:100%;padding:5px;"><view>选择时间段：</view><block wx:for="{{schedule}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view style="display:flex;align-items:center;"><block wx:if="{{item.limitNum>item.alreadyAppointmentNum}}"><view data-event-opts="{{[['tap',[['toSubmitAppointment',['$0'],[[['schedule','',i]]]]]]]}}" class="time-slot" bindtap="__e">{{''+item.appointmentTimeSlot+''}}</view></block><block wx:if="{{item.limitNum<=item.alreadyAppointmentNum}}"><view class="time-slot2">{{''+item.appointmentTimeSlot+''}}</view></block><text>剩余数量：</text><text>{{item.limitNum-item.alreadyAppointmentNum}}</text></view></block></view></view></uni-popup></view>
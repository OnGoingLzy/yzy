<view><view class="date-container"><view data-event-opts="{{[['tap',[['selectDay',[index]]]]]}}" class="{{(('date-item')+' '+((selectedIndex===index)?'selected':''))}}" onTap="__e" a:for="{{sevenDays}}" a:for-item="day" a:for-index="index" a:key="index"><view><text class="day">{{day.day}}</text></view><view><text class="date">{{day.date}}</text></view></view></view><view data-event-opts="{{[['tap',[['openChooseSchedule',['$0'],[[['filterDoctor','',i]]]]]]]}}" class="doctor-card" onTap="__e" a:for="{{filterDoctor}}" a:for-item="item" a:for-index="i" a:key="i"><view style="align-items:center;display:flex;justify-content:center;"><image class="avatar" src="/static/icon/avatar.png"></image></view><view style="margin-left:10px;"><view><text>{{item.name}}</text></view><view><text style="font-size:11px;color:gray;">{{item.position}}</text></view><view><text style="font-size:12px;color:gray;">{{'擅长：'+item.note}}</text></view></view><view style="margin-left:auto;"><view><view class="{{(item.remainedNum>=0?'tag1':'tag2')}}"><text>{{item.remainedNum>=0?'可预约':'暂无号'}}</text></view></view></view></view><block a:if="{{filterDoctor.length==0}}"><view style="text-align:center;"><view>没有可预约挂号的医生</view><image style="width:50vw;height:50vw;padding:100rpx 0 120rpx 0;" src="../../static/img/empty3.svg"></image></view></block><uni-popup vue-id="7ba4f198-1" type="right" background-color="#fff" ref="__r" data-ref="popup" onVueInit="__l" vue-slots="{{['default']}}"><view><view style="text-align:center;font-weight:bold;">{{''+(selectedDate+' '+clickDoctor.name+' '+clickDoctor.position)+''}}</view><view style="text-align:center;width:100%;padding:5px;"><view>选择时间段：</view><view style="display:flex;align-items:center;" a:for="{{schedule}}" a:for-item="item" a:for-index="i" a:key="i"><block a:if="{{item.limitNum>item.alreadyAppointmentNum}}"><view data-event-opts="{{[['tap',[['toSubmitAppointment',['$0'],[[['schedule','',i]]]]]]]}}" class="time-slot" onTap="__e">{{''+item.appointmentTimeSlot+''}}</view></block><block a:if="{{item.limitNum<=item.alreadyAppointmentNum}}"><view class="time-slot2">{{''+item.appointmentTimeSlot+''}}</view></block><text>剩余数量：</text><text>{{item.limitNum-item.alreadyAppointmentNum}}</text></view></view></view></uni-popup></view>
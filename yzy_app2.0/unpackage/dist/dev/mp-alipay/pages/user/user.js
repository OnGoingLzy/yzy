(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/user/user"],{90:function(e,n,t){"use strict";(function(e){var n=t(3);t(22);n(t(21));var r=n(t(91));my.__webpack_require_UNI_MP_PLUGIN__=t,e(r.default)}).call(this,t(1)["createPage"])},91:function(e,n,t){"use strict";t.r(n);var r=t(92),o=t(94);for(var u in o)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(u);t(96);var i,a=t(68),s=Object(a["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],i);s.options.__file="pages/user/user.vue",n["default"]=s.exports},92:function(e,n,t){"use strict";t.r(n);var r=t(93);t.d(n,"render",(function(){return r["render"]})),t.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(n,"components",(function(){return r["components"]}))},93:function(e,n,t){"use strict";var r;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return i})),t.d(n,"recyclableRender",(function(){return u})),t.d(n,"components",(function(){return r}));try{r={uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,506))},uniGrid:function(){return t.e("uni_modules/uni-grid/components/uni-grid/uni-grid").then(t.bind(null,485))},uniGridItem:function(){return t.e("uni_modules/uni-grid/components/uni-grid-item/uni-grid-item").then(t.bind(null,492))},uniBadge:function(){return t.e("uni_modules/uni-badge/components/uni-badge/uni-badge").then(t.bind(null,514))},uniPopup:function(){return t.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(t.bind(null,521))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,n=e.$createElement;e._self._c},u=!1,i=[];o._withStripped=!0},94:function(e,n,t){"use strict";t.r(n);var r=t(95),o=t.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=o.a},95:function(e,n,t){"use strict";(function(e){var r=t(3);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(26)),u=r(t(28)),i=r(t(29)),a={data:function(){return{isVerify:!1,nickname:e.getStorageSync("nickname"),promotionCodeUrl:"data:image/jpeg;base64,",orderNum:{noPay:0,isPay:0,waitRecive:0,refund:0}}},mounted:function(){},onShow:function(){this.getOrderNumByStatus("待付款"),this.getOrderNumByStatus("待发货"),this.getOrderNumByStatus("待收货"),this.getOrderNumByStatus("退款")},onLoad:function(){if(!e.getStorageSync("phone"))return this.toAuthorizePhone()},methods:{toUserAppointmentQuery:function(){e.navigateTo({url:"/subPackage_appointment/user_queryAppointment/user_queryAppointment"})},toMyHistoryDemand:function(){if(!e.getStorageSync("lxdh"))return console.log("无手机号"),this.delayNavigate();e.navigateTo({url:"/pages/goods_order_history/goods_order_history"})},delayNavigate:function(){var n=this;this.seconds=3,this.showTips(this.seconds),this.timer=setInterval((function(){if(n.seconds--,n.seconds<=0)return clearInterval(n.timer),void e.navigateTo({url:"/pages/login/login"});n.showTips(n.seconds)}),1e3)},showTips:function(n){e.showToast({icon:"none",title:"请授权后再之重新打开个人中心！"+n+"秒之后自动跳转到授权页",mask:!0,duration:1500})},toMyRecipe:function(){e.navigateTo({url:"/pages/user_recipe/user_recipe"})},showMsg:function(){e.showToast({title:"功能正在开发中...",icon:"none"})},toAddress:function(){e.getStorageSync("phone")?e.navigateTo({url:"/pages/user-path-list/pathList"}):this.toAuthorizePhone()},getOrderNumByStatus:function(n){var t=this;return(0,u.default)(o.default.mark((function r(){var u,a,s,c;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return u="/api/trade/getOrderNumByStatus",a="POST",s={openid:e.getStorageSync("openid"),status:n},r.prev=3,r.next=6,(0,i.default)("yzy_app",u,a,s);case 6:if(c=r.sent,99!=c.code||99!=c.data.flag){r.next=11;break}"待付款"==n?t.orderNum.noPay=c.data.num.toString():"待发货"==n?t.orderNum.isPay=c.data.num.toString():"待收货"==n?t.orderNum.waitRecive=c.data.num.toString():t.orderNum.refund=c.data.num.toString(),r.next=12;break;case 11:return r.abrupt("return",0);case 12:r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](3),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[3,14]])})))()},toMyOrder:function(n){e.navigateTo({url:"/pages/user_order/user_order?num="+n})},toDrugUsers:function(){e.getStorageSync("phone")?(e.navigateTo({url:"/pages/goods_user/goods_user"}),console.log("添加用药人")):(console.log("没有绑定手机"),this.toAuthorizePhone())},toAuthorizePhone:function(){e.navigateTo({url:"/pages/login/login"})},shareCode:function(){var n=this;return(0,u.default)(o.default.mark((function t(){var r,u,a,s,c;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.getStorageSync("phone")){t.next=2;break}return t.abrupt("return",n.toAuthorizePhone());case 2:if(r=n,"data:image/jpeg;base64,"!=n.promotionCodeUrl){t.next=21;break}return u="/api/user/getShareCode",a="POST",s={phone:e.getStorageSync("phone")},t.prev=7,t.next=10,(0,i.default)("yzy_app",u,a,s);case 10:c=t.sent,console.log(c),-99!=c.code?(r.promotionCodeUrl="data:image/jpeg;base64,"+c.data,r.$refs.popup2.open("center")):e.showToast({title:"获取失败"}),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](7),console.error(t.t0),e.showToast({title:"服务器出错了"});case 19:t.next=22;break;case 21:n.$refs.popup2.open("center");case 22:case"end":return t.stop()}}),t,null,[[7,15]])})))()},connect:function(){return(0,u.default)(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}};n.default=a}).call(this,t(1)["default"])},96:function(e,n,t){"use strict";t.r(n);var r=t(97),o=t.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=o.a},97:function(e,n,t){}},[[90,"common/runtime","common/vendor"]]]);
{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/workbench/云找药小程序2.0/yzy_app2.0/pages/search/search.vue?b574","webpack:///E:/workbench/云找药小程序2.0/yzy_app2.0/pages/search/search.vue?f11a","webpack:///E:/workbench/云找药小程序2.0/yzy_app2.0/pages/search/search.vue?433b","uni-app:///pages/search/search.vue","webpack:///E:/workbench/云找药小程序2.0/yzy_app2.0/pages/search/search.vue?d45b","webpack:///E:/workbench/云找药小程序2.0/yzy_app2.0/pages/search/search.vue?240f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,+F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAkpB,CAAgB,uqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+FtqB,8F;AACA;AACA,MADA,kBACA;AACA;AACA,iBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,uBAJA;AAKA,uBALA;AAMA,mBANA,EAMA;AACA,oBAPA;AAQA,kBARA,EAQA;AACA,wBATA,EASA;AACA;AACA,yBADA,EACA;AACA,oBAFA;AAGA,oBAHA;AAIA,qBAJA;AAKA,sBALA;AAMA,uBANA,CAMA;AANA,OAVA;;AAmBA,GArBA;AAsBA,sCAtBA;AAuBA;AACA,iBADA,yBACA,MADA,EACA,MADA,EACA;AACA;AACA,KAHA,EAvBA;;AA4BA,SA5BA,qBA4BA;AACA;AACA;AACA,GA/BA;AAgCA;AACA;AACA;AACA;AACA;AACA,GArCA;AAsCA;AACA,mBADA,2BACA,KADA,EACA;AACA;AACA;AACA;AAFA;AAIA,KANA;AAOA,aAPA,qBAOA,GAPA,EAOA,IAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KA7BA;AA8BA,qBA9BA,6BA8BA,QA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlDA;AAmDA;AACA,eApDA,uBAoDA,IApDA,EAoDA;AACA;AACA,8BAFA,GAEA,mBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAjBA,GAiBA,KAjBA;;AAmBA;AACA;AACA;AACA;AACA;AACA,mCADA;;AAGA;AACA;AACA;AACA;AACA,mBA9BA,GA8BA,wBA9BA;AA+BA,sBA/BA,GA+BA,MA/BA;AAgCA,oBAhCA,GAgCA;AACA,2CADA,EAhCA;;;AAoCA,qEApCA,UAoCA,GApCA;AAqCA,iCArCA,CAqCA;AACA;AACA;AACA;AACA,gIADA,CACA;AACA;AACA;AACA;AACA;AACA,mBANA,MAMA;AACA;AACA;AACA,kDADA;;AAGA;AACA;;AAEA;;AAEA,iBAlBA;AAmBA;;AAEA;AACA,kCA5DA;;AA8DA;AACA,kCA/DA;;;AAkEA,KAtHA;AAuHA;AACA,iBAxHA,2BAwHA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,yBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAzIA;AA0IA;AACA,qBA3IA,6BA2IA,aA3IA,EA2IA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5JA;AA6JA,eA7JA,yBA6JA;AACA;AACA;AACA,0DADA;AAEA;AACA,sBAHA;AAIA;AACA,4CADA;AAEA,0CAFA;AAGA,8CAHA,EAJA;;AASA;AACA,4CADA,EATA;;AAYA;AACA;AACA;AACA,SAfA;;AAiBA,KAhLA;AAiLA;AACA,cAlLA,wBAkLA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzLA;AA0LA,sBA1LA,gCA0LA;AACA;AACA;AACA;AACA;AACA,KA/LA;AAgMA,qBAhMA,+BAgMA;AACA;AACA;AACA;AACA;AACA,KArMA,EAtCA,E;;;;;;;;;;;;;AChGA;AAAA;AAAA;AAAA;AAAquC,CAAgB,ksCAAG,EAAC,C;;;;;;;;;;;ACAzvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\ntry {\n  components = {\n    uniTag: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-tag/components/uni-tag/uni-tag\" */ \"@/uni_modules/uni-tag/components/uni-tag/uni-tag.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"search-container\">\n\t\t\t<view class=\"search-input\">\n\t\t\t\t<view style=\"height: 100%;width: 40px;text-align: left;margin-left: 10px;display: flex;align-items: center;\" >\n\t\t\t\t<image src=\"../../static/icon/ss.png\" style=\"width: 22px;height: 22px;\"></image>\n\t\t\t\t</view>\n\t\t\t\t<input type=\"text\" style=\"width: 80%;\" v-model=\"searchContent\" placeholder=\"药名、品牌、厂家、症状\"/>\n\t\t\t\t<view style=\"height: 100%;width: 40px;text-align: right: ;\" >\n\t\t\t\t<text class=\"voice-icon\" @click=\"clearSearchContent\">×</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view style=\"display: flex;align-item:center;width: 10vw;justify-content: center;\">\n\t\t\t\t<text style=\"color: white;line-height:31px\" @click=\"searchGoods('')\">搜索</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"choice-bar-container\" v-show=\"showView=='view3'\">\n\t\t\t<view class=\"choice-bar-item-box\" :class=\"{activeBar : choiceBar === 'test0'}\" @click=\"selectBar('test0')\">\n\t\t\t\t<text ref=\"text0\"  :style=\"{ color: choiceBar === 'test0' ? '#1296DB' : 'black' }\" >默认</text>\n\t\t\t</view>\t\n\t\t\t<view class=\"choice-bar-item-box\" :class=\"{activeBar : choiceBar === 'test1'}\" @click=\"selectBar('test1','price')\">\n\t\t\t\t<view style=\"display: flex;align-items: center;\">\n\t\t\t\t\t<text ref=\"test1\"  :style=\"{ color: choiceBar === 'test1' ? '#1296DB' : 'black' }\">价格</text>\n\t\t\t\t\t\t<text class=\"mini-text\" :style=\"{ color: searchObj.sortRule === '价格降序' ? '#1296DB' : '#777777' }\">↑</text>\n\t\t\t\t\t\t<text class=\"mini-text\" :style=\"{ color: searchObj.sortRule === '价格升序' ? '#1296DB' : '#777777' }\">↓</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"choice-bar-item-box\" :class=\"{activeBar : choiceBar === 'test2'}\" @click=\"selectBar('test2','shopsNum')\">\n\t\t\t\t<view style=\"display: flex;align-items: center;\">\n\t\t\t\t\t<text ref=\"test1\"  :style=\"{ color: choiceBar === 'test2' ? '#1296DB' : 'black' }\">报价数</text>\n\t\t\t\t\t\t<text class=\"mini-text\" :style=\"{ color: searchObj.sortRule === '报价数降序' ? '#1296DB' : '#777777' }\">↑</text>\n\t\t\t\t\t\t<text class=\"mini-text\" :style=\"{ color: searchObj.sortRule === '报价数升序' ? '#1296DB' : '#777777' }\">↓</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"choice-bar-item-box\" :class=\"{activeBar : choiceBar === 'test3'}\" @click=\"selectBar('test3')\">\n\t\t\t\t<text ref=\"text3\"  :style=\"{ color: choiceBar === 'test3' ? '#1296DB' : 'black' }\">大图</text>\n\t\t\t</view>\t\n\t\t\t<view class=\"choice-bar-item-box\" :class=\"{activeBar : choiceBar === 'test4'}\" @click=\"selectBar('test4')\">\n\t\t\t\t<text ref=\"text4\"  :style=\"{ color: choiceBar === 'test4' ? '#1296DB' : 'black' }\">筛选</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- view1 搜索框什么都不输入时展示该页面 -->\n\t\t<view class=\"view1\" v-show=\"showView=='view1'\">\n\n\t\t\t<view class=\"history-box\">\n\t\t\t\t<view class=\"history-title\">\n\t\t\t\t\t<text style=\"font-weight: bold;\">热销品种</text>\n\t\t\t\t\t<image class=\"icons\" src=\"/static/icon/fire.png\"></image>\n\t\t\t\t\t<!-- <uni-icons type=\"fire\" size=\"17\"></uni-icons> -->\n\t\t\t\t</view>\n\t\t\t\t<!-- 列表区域 -->\n\t\t\t\t<view class=\"history-list\">\n\t\t\t\t\t<uni-tag :text=\"item\" v-for=\"(item, i) in hotList\" :key=\"i\" @click=\"searchGoods(item)\" :inverted=\"true\" ></uni-tag>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"history-box\">\n\t\t\t\t<view class=\"history-title\">\n\t\t\t\t\t<text style=\"font-weight: bold;\">搜索历史</text>\n\t\t\t\t\t<uni-icons type=\"trash\" size=\"17\" @click=\"clean\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<!-- 列表区域 -->\n\t\t\t\t<view class=\"history-list\">\n\t\t\t\t\t<uni-tag :text=\"item\" v-for=\"(item, i) in historyList\" :key=\"i\" @click=\"searchGoods(item)\"></uni-tag>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- view2 搜索框有内容时显示可能出现的药品内容 -->\n\t\t<view class=\"view1\" v-show=\"showView=='view2'\">\n\t\t\t你可能要搜索:XXXXXXX\n\t\t</view>\n\t\t\n\t\t<!-- view3 搜索后展示商品列表 -->\n\t\t\n\t\t<view class=\"view1\" v-show=\"showView=='view3'\" style=\"margin-top:100px\">\n\t\t\t\n\t\t\t<view v-for=\"(goods, i) in searchResults\" :key=\"i\" @click=\"toGoodsSellShop(goods)\">\n\t\t\t\t<!-- <goodsCard :goods=\"goods\" ></goodsCard> -->\n\t\t\t\t<goods-card :goods=\"goods\"></goods-card>\n\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t\n\t</view>\n</template>\n\n<script>\n\timport goodsCard from '@/components/goods/goods_card.vue';\n\timport request from '@/common/api/request.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\thotList:[],\n\t\t\t\thistoryList:[],\n\t\t\t\tshowView:\"view1\",\n\t\t\t\tsearchContent:'',\n\t\t\t\tsearchResults:[],\n\t\t\t\tsearchTime:1,//为1时证明为搜索而不是下拉加载数据\n\t\t\t\tisloding:true,\n\t\t\t\ttotalNum:'',//查询到的总数\n\t\t\t\tchoiceBar:\"test0\", //选择哪个排序条件\n\t\t\t\tsearchObj: {\n\t\t\t\t\tsearchContent: '', //商品查询名\n\t\t\t\t\tpageIndex: 1,\n\t\t\t\t\tpageSize: 20,\n\t\t\t\t\tdrugsList: [],\n\t\t\t\t\tsortRule:'默认',\n\t\t\t\t\tfilterRule:'无',//筛选条件\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tcomponents:{goodsCard },\n\t\twatch: {\n\t\t\tsearchContent(newVal, oldVal){\n\t\t\t        this.watchInput()\n\t\t\t    }\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getHotGoods()\n\t\t\tthis.historyList = JSON.parse(uni.getStorageSync('historyList') || '[]');\n\t\t},\n\t\tonLoad: function (option) {\n\t\t\t//解析传过来的对象\r\n\t\t\tthis.searchContent = JSON.parse(decodeURIComponent(option.searchContent));\r\n\t\t\tthis.searchGoods('')\r\n\t\t\tconsole.log(this.searchContent)\t\t\n\t\t},\n\t\tmethods: {\n\t\t\ttoGoodsSellShop(goods){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:\"/pages/shops_selling_This_goods/shops_selling_This_goods?goods=\"+encodeURIComponent(JSON.stringify(goods))\n\t\t\t\t\t//传对象参数给这个页面需要使用这个方法\n\t\t\t\t})\n\t\t\t},\n\t\t\tselectBar(num,sort){\n\t\t\t\tthis.choiceBar=num\n\t\t\t\tvar sortRule = this.searchObj.sortRule\n\t\t\t\tif(num=='test0') this.searchObj.sortRule='默认'\n\t\t\t\tif(num=='test1'&&sort=='price'){\n\t\t\t\t\tif(sortRule!='价格升序'||sortRule!='价格降序') this.searchObj.sortRule='价格降序'\n\t\t\t\t\tif(sortRule=='价格升序') this.searchObj.sortRule='价格降序'\n\t\t\t\t\tif(sortRule=='价格降序') this.searchObj.sortRule='价格升序'\n\t\t\t\t\tthis.sortSearchResults(this.searchObj.sortRule)\n\t\t\t\t\treturn\n\t\t\t\t} \n\t\t\t\tif(num=='test2'&&sort=='shopsNum'){\n\t\t\t\t\tif(sortRule!='报价数升序'||sortRule!='报价数降序') this.searchObj.sortRule='报价数降序'\n\t\t\t\t\tif(sortRule=='报价数升序') this.searchObj.sortRule='报价数降序'\n\t\t\t\t\tif(sortRule=='报价数降序') this.searchObj.sortRule='报价数升序'\n\t\t\t\t\tthis.sortSearchResults(this.searchObj.sortRule)\n\t\t\t\t\treturn\n\t\t\t\t} \n\t\t\t\tif(num=='test4') this.searchObj.sortRule='筛选'\n\t\t\t\t\n\t\t\t\tthis.sortSearchResults(this.searchObj.sortRule)\n\t\t\t\t\n\t\t\t},\n\t\t\tsortSearchResults(sortRule) {\n\t\t\t\tif(sortRule=='价格降序'){\n\t\t\t\t\t// 使用 Array.prototype.sort() 方法对 searchResults 进行排序\n\t\t\t\t\tconsole.log(sortRule)\n\t\t\t\t\tthis.searchResults.sort((a, b) => b.minPrice - a.minPrice);\n\t\t\t\t}\n\t\t\t    if(sortRule=='价格升序'){\n\t\t\t    \tthis.searchResults.sort((a, b) => a.minPrice - b.minPrice);\n\t\t\t    }\n\t\t\t\tif(sortRule=='默认'){\n\t\t\t\t\tthis.searchResults.sort((a, b) => b.similarity - a.similarity);\n\t\t\t\t}   \r\n\t\t\t\tif(sortRule=='报价数降序'){\r\n\t\t\t\t\t// 使用 Array.prototype.sort() 方法对 searchResults 进行排序\r\n\t\t\t\t\tconsole.log(sortRule)\r\n\t\t\t\t\tthis.searchResults.sort((a, b) => b.shopNum - a.shopNum);\r\n\t\t\t\t}\r\n\t\t\t\tif(sortRule=='报价数升序'){\r\n\t\t\t\t\tthis.searchResults.sort((a, b) => a.shopNum - b.shopNum);\r\n\t\t\t\t} \n\t\t\t},\n\t\t\t//搜索商品\n\t\t\tasync searchGoods(name){\n\t\t\t\tthis.showView='view3'\n\t\t\t\tlet searchContent1 = this.searchContent\n\t\t\t\tif(name!=''){//用于检验是否是点击热销或者历史搜索记录\n\t\t\t\t    console.log(\"热门/记录搜索\"+name)\n\t\t\t\t\tsearchContent1 = name\n\t\t\t\t\tthis.searchContent = name\n\t\t\t\t}\n\t\t\t\tif(this.searchObj.searchContent!=searchContent1){\n\t\t\t\t\tthis.searchTime = 1\n\t\t\t\t\tthis.searchObj.pageIndex=1\n\t\t\t\t\tthis.searchObj.drugsList=[]\n\t\t\t\t\tthis.searchResults=[]\n\t\t\t\t}\n\t\t\t\tconsole.log(\"查询:\"+searchContent1)\n\t\t\t\tthis.saveSearchHistory(searchContent1);\n\t\t\t\t\n\t\t\t\tvar that = this\n\t\t\t\t\n\t\t\t\t//保证只有第一次搜索时才有搜索中的提示，后续下拉加载更多数据不显示\n\t\t\t\tif (that.searchTime === 1) {\n\t\t\t\t\tconsole.log(that.searchTime);\n\t\t\t\t\tthat.searchTime = that.searchTime + 1\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '搜索中...'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthat.searchObj.searchContent=searchContent1\n\t\t\t\tconsole.log(\"当前查询商品:\"+this.searchObj.searchContent)\n\t\t\t\t//发起搜索请求\n\t\t\t\tconst url = '/api/goods/searchGoods';\n\t\t\t\tconst method = 'POST'; \n\t\t\t\tconst data = {\n\t\t\t\t\tsearchObj: that.searchObj,\n\t\t\t\t};\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await request('yzy_app', url, method, data);\n\t\t\t\t\tconsole.log(res);\t\t//统一格式：{\"data\":{}, \"flag\":99, \"result\":\"成功\"}\n\t\t\t\t\tif(res.code == 99){\n\t\t\t\t\t\t//能搜索到数据\n\t\t\t\t\t\tif (res.data !== null) {\n\t\t\t\t\t\t\tthis.searchResults = [...this.searchResults, ...res.data.data] //下拉加载更多数据 与旧数据连接\t\t\n\t\t\t\t\t\t\tthat.totalNum = res.data.totalCount\n\t\t\t\t\t\t\tthis.searchObj.drugsList = res.data.drugsList\n\t\t\t\t\t\t\tconsole.log(res.data.drugsList)\n\t\t\t\t\t\t\tthis.showView='view3'\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//不能搜索到数据\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '/subpkg/waring/waring'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t//return uni.$showMsg(\"暂无结果！\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tthis.sortSearchResults(this.searchObj.sortRule)\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t},\n\t\t\t//到达页面底部 触发加载更多内容\n\t\t\tonReachBottom() {\n\t\t\t\t//如果数据已经全部加载完毕\n\t\t\t\tconsole.log(this.searchObj.drugsList)\n\t\t\t\tif (this.searchObj.pageIndex * this.searchObj.pageSize >= this.totalNum) {\n\t\t\t\t\tconsole.log(\"数据加载完毕\")\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"数据加载完毕\",\n\t\t\t\t\t\ticon:\"success\"\n\t\t\t\t\t})\n\t\t\t\t\treturn \n\t\t\t\t}\n\t\t\t\tif (this.isloading) return\n\t\t\t\t// 让页码值自增+1\n\t\t\t\tthis.searchObj.pageIndex++\n\t\t\t\tconsole.log(\"到达底部\")\n\t\t\t\tthis.searchGoods('')\n\t\t\t\t\n\t\t\t},\n\t\t\t// //存储搜索历史\n\t\t\tsaveSearchHistory(searchContent) {\n\t\t\t\tconsole.log('存储搜索历史')\n\t\t\t\t//历史搜索关键词进行去重排序\n\t\t\t\tconst set = new Set(this.historyList)\n\t\t\t\n\t\t\t\n\t\t\t\tif (searchContent.trim().length !== 0) {\n\t\t\t\t\tset.delete(searchContent.trim())\n\t\t\t\t\tset.add(searchContent.trim())\n\t\t\t\t}\n\t\t\t\tlet ar = Array.from(set)\n\t\t\t\tif (ar.length > 8) {\n\t\t\t\t\tset.delete(ar[1])\n\t\t\t\t}\n\t\t\t\tthis.historyList = Array.from(set).reverse()\n\t\t\t\t// 对搜索历史数据，进行持久化的存储\n\t\t\t\tuni.setStorageSync('historyList', JSON.stringify(Array.from(set)))\n\t\t\t},\n\t\t\tgetHotGoods(){\n\t\t\t\t//获取数据库中的热销品种\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://lyhapi.dyb.yn.cn/api/GetHotmedicine',\n\t\t\t\t\t//url:'',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t\"X-Ca-Key\": \"wxe7c826a1a5e00055\",\n\t\t\t\t\t\t\"X-Service-Method\": \"GetHotmedicine\"\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"lxdh\": uni.getStorageSync(\"lxdh\")\n\t\t\t\t\t},\n\t\t\t\t\t//成功后的操作\n\t\t\t\t\tsuccess: ress => {\n\t\t\t\t\t\tthis.hotList = Array.from(ress.data.split(','))\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//监听输入框\n\t\t\twatchInput(){\n\t\t\t\t\n\t\t\t\tif(this.searchContent!=''){\n\t\t\t\t\tthis.showView = \"view2\"\n\t\t\t\t}else{\n\t\t\t\t\tthis.showView = \"view1\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearSearchContent(){\n\t\t\t\tthis.searchContent = ''\n\t\t\t\tthis.searchTime = 1\n\t\t\t\tthis.searchObj.pageIndex=1\n\t\t\t\tthis.searchObj.drugsList=[]\n\t\t\t},\n\t\t\tclearSearchResult(){\n\t\t\t\tthis.searchTime = 1\n\t\t\t\tthis.searchObj.pageIndex=1\n\t\t\t\tthis.searchObj.drugsList=[]\n\t\t\t\tthis.searchResults=[]\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.mini-text{\n\tfont-size: 13px;\n\tfont-weight: bold;\n\tfont-family: -webkit-pictograph;\n}\t\n.activeBar{\n\tborder-bottom: 4px #1296DB solid;\n}\n.choice-bar-container{\n\tposition: absolute;\n\t top: 55px;\n\t width: 100%;\n\t background: #1296DB;\n\tdisplay: flex;\n\toverflow : auto;\n\tbackground: white;\n}\n.choice-bar-item-box {\n\theight: 100%;\n\twidth: 100px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 5px 0;\n} \t\n.icons{\n\twidth: 20px;\n\theight: 20px;\n\tdisplay: flex;\n}\t\n.view1{\n\tmargin: 60px 10px 10px 10px;\n}\n .search-container{\n\t position: absolute;\n\t  top: 0;\n\t  width: 100%;\n\t  \n\t display: flex;\n\t padding: 3vw;\n\t background: #1296DB;\n } \n .search-input {\n     display: flex;\n     align-items: center;\n     // justify-content: center;\n     border-radius: 24px;\n     width: 80vw;\n\t background: white;\n }\n .voice-icon{\n \t font-family: \"Material Icons\";\n \t font-size: 5vw;\n \t color: #9aa0a6;\n \t margin-left: 8px;\n \t line-height: 31px;\n }\n.history-box {\n\tpadding: 0 5px;\n\n\t.history-title {\n\t\tdisplay: flex;\n\t\tjustify-content: baseline;\n\t\theight: 40px;\n\t\talign-items: center;\n\t\tfont-size: 15px;\n\t\tborder-bottom: 1px solid #efefef;\n\t}\n\n\t.history-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\tuni-tag {\n\t\t\tmargin-top: 15px;\n\t\t\tmargin-right: 5px;\n\t\t\tfont-size: 2rpx;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1691041566274\n      var cssReload = require(\"D:/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}